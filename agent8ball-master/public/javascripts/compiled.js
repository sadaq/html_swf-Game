'use strict';function n(a){throw a;}var r=void 0,t=!0,u=null,z=!1;function aa(){return function(){}}function ba(a){return function(){return this[a]}}function ca(a){return function(){return a}}var A,C=this;function da(a){a=a.split(".");for(var c=C,b;b=a.shift();)if(c[b]!=u)c=c[b];else return u;return c}function ea(){}
function fa(a){var c=typeof a;if("object"==c)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return c;var b=Object.prototype.toString.call(a);if("[object Window]"==b)return"object";if("[object Array]"==b||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==b||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==c&&"undefined"==typeof a.call)return"object";return c}function ga(a){return a!==r}function ia(a){return"array"==fa(a)}function ja(a){var c=fa(a);return"array"==c||"object"==c&&"number"==typeof a.length}function D(a){return"string"==typeof a}function ka(a){return"number"==typeof a}function la(a){return"function"==fa(a)}function ma(a){var c=typeof a;return"object"==c&&a!=u||"function"==c}function na(a){return a[oa]||(a[oa]=++pa)}var oa="closure_uid_"+(1E9*Math.random()>>>0),pa=0;
function qa(a,c,b){return a.call.apply(a.bind,arguments)}function ra(a,c,b){a||n(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(b,d);return a.apply(c,b)}}return function(){return a.apply(c,arguments)}}function sa(a,c,b){sa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qa:ra;return sa.apply(u,arguments)}
function ta(a,c){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,b);return a.apply(this,c)}}var ua=Date.now||function(){return+new Date};function E(a,c){function b(){}b.prototype=c.prototype;a.vb=c.prototype;a.prototype=new b};function va(a){Error.captureStackTrace?Error.captureStackTrace(this,va):this.stack=Error().stack||"";a&&(this.message=String(a))}E(va,Error);va.prototype.name="CustomError";function wa(a,c){for(var b=1;b<arguments.length;b++){var d=String(arguments[b]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,d)}return a}function ya(a){if(!za.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Aa,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ba,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ca,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Da,"&quot;"));return a}var Aa=/&/g,Ba=/</g,Ca=/>/g,Da=/\"/g,za=/[&<>\"]/;
function Ea(a){return String(a).replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()})}function Ha(a){var c=D(r)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(RegExp("(^"+(c?"|["+c+"]+":"")+")([a-z])","g"),function(a,c,e){return c+e.toUpperCase()})};function Ia(a,c){c.unshift(a);va.call(this,wa.apply(u,c));c.shift();this.Ng=a}E(Ia,va);Ia.prototype.name="AssertionError";function Ja(a,c){n(new Ia("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};function Ka(a,c,b){for(var d in a)c.call(b,a[d],d,a)}function La(a,c){for(var b in a)if(!c.call(r,a[b],b,a))return z;return t}function Ma(a){var c=0,b;for(b in a)c++;return c}function Na(a){var c=[],b=0,d;for(d in a)c[b++]=d;return c}function Oa(a){for(var c in a)return z;return t}function Pa(a){for(var c in a)delete a[c]}var Qa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Ra(a,c){for(var b,d,e=1;e<arguments.length;e++){d=arguments[e];for(b in d)a[b]=d[b];for(var f=0;f<Qa.length;f++)b=Qa[f],Object.prototype.hasOwnProperty.call(d,b)&&(a[b]=d[b])}}function Sa(a){var c=arguments.length;if(1==c&&ia(arguments[0]))return Sa.apply(u,arguments[0]);for(var b={},d=0;d<c;d++)b[arguments[d]]=t;return b};var Ta,Ua,Va,Wa,Xa;function Ya(){return C.navigator?C.navigator.userAgent:u}Wa=Va=Ua=Ta=z;var Za;if(Za=Ya()){var $a=C.navigator;Ta=0==Za.indexOf("Opera");Ua=!Ta&&-1!=Za.indexOf("MSIE");Va=!Ta&&-1!=Za.indexOf("WebKit");Wa=!Ta&&!Va&&"Gecko"==$a.product}var ab=Ta,F=Ua,K=Wa,bb=Va,cb,db=C.navigator;cb=db&&db.platform||"";Xa=-1!=cb.indexOf("Mac");var eb=-1!=cb.indexOf("Win");function fb(){var a=C.document;return a?a.documentMode:r}var gb;
a:{var hb="",ib;if(ab&&C.opera)var jb=C.opera.version,hb="function"==typeof jb?jb():jb;else if(K?ib=/rv\:([^\);]+)(\)|;)/:F?ib=/MSIE\s+([^\);]+)(\)|;)/:bb&&(ib=/WebKit\/(\S+)/),ib)var kb=ib.exec(Ya()),hb=kb?kb[1]:"";if(F){var lb=fb();if(lb>parseFloat(hb)){gb=String(lb);break a}}gb=hb}var mb={};
function L(a){var c;if(!(c=mb[a])){c=0;for(var b=String(gb).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(b.length,d.length),f=0;0==c&&f<e;f++){var g=b[f]||"",h=d[f]||"",k=/(\d*)(\D*)/g,l=/(\d*)(\D*)/g;do{var m=k.exec(g)||["","",""],q=l.exec(h)||["","",""];if(0==m[0].length&&0==q[0].length)break;c=((0==m[1].length?0:parseInt(m[1],10))<(0==q[1].length?0:parseInt(q[1],10))?-1:(0==m[1].length?0:parseInt(m[1],10))>(0==q[1].length?
0:parseInt(q[1],10))?1:0)||((0==m[2].length)<(0==q[2].length)?-1:(0==m[2].length)>(0==q[2].length)?1:0)||(m[2]<q[2]?-1:m[2]>q[2]?1:0)}while(0==c)}c=mb[a]=0<=c}return c}var nb=C.document,ob=!nb||!F?r:fb()||("CSS1Compat"==nb.compatMode?parseInt(gb,10):5);var qb="closure_listenable_"+(1E6*Math.random()|0),rb=0;function sb(){}A=sb.prototype;A.key=0;A.xa=z;A.gb=z;A.ec=function(a,c,b,d,e,f){la(a)?this.ve=t:a&&a.handleEvent&&la(a.handleEvent)?this.ve=z:n(Error("Invalid listener argument"));this.Ga=a;this.proxy=c;this.src=b;this.type=d;this.capture=!!e;this.ac=f;this.gb=z;this.key=++rb;this.xa=z};A.handleEvent=function(a){return this.ve?this.Ga.call(this.ac||this.src,a):this.Ga.handleEvent.call(this.Ga,a)};var tb=!F||F&&9<=ob,ub=F&&!L("9");!bb||L("528");K&&L("1.9b")||F&&L("8")||ab&&L("9.5")||bb&&L("528");K&&!L("8")||F&&L("9");var vb=Array.prototype,wb=vb.indexOf?function(a,c,b){return vb.indexOf.call(a,c,b)}:function(a,c,b){b=b==u?0:0>b?Math.max(0,a.length+b):b;if(D(a))return!D(c)||1!=c.length?-1:a.indexOf(c,b);for(;b<a.length;b++)if(b in a&&a[b]===c)return b;return-1},xb=vb.forEach?function(a,c,b){vb.forEach.call(a,c,b)}:function(a,c,b){for(var d=a.length,e=D(a)?a.split(""):a,f=0;f<d;f++)f in e&&c.call(b,e[f],f,a)};function yb(a){if(!ia(a))for(var c=a.length-1;0<=c;c--)delete a[c];a.length=0}
function zb(a,c){var b=wb(a,c),d;(d=0<=b)&&vb.splice.call(a,b,1);return d}function Ab(a,c){var b;a:{b=a.length;for(var d=D(a)?a.split(""):a,e=0;e<b;e++)if(e in d&&c.call(r,d[e],e,a)){b=e;break a}b=-1}return 0<=b?(vb.splice.call(a,b,1),t):z}function Bb(a){var c=a.length;if(0<c){for(var b=Array(c),d=0;d<c;d++)b[d]=a[d];return b}return[]}function Cb(a,c,b){return 2>=arguments.length?vb.slice.call(a,c):vb.slice.call(a,c,b)}function Db(a,c){return a>c?1:a<c?-1:0};function Eb(){0!=Fb&&(this.Cg=Error().stack,Gb[na(this)]=this)}var Fb=0,Gb={};Eb.prototype.Fc=z;Eb.prototype.Cb=function(){if(!this.Fc&&(this.Fc=t,this.qa(),0!=Fb)){var a=na(this);delete Gb[a]}};Eb.prototype.qa=function(){if(this.Qe)for(;this.Qe.length;)this.Qe.shift()()};function O(a,c){this.type=a;this.currentTarget=this.target=c}A=O.prototype;A.qa=aa();A.Cb=aa();A.eb=z;A.defaultPrevented=z;A.Se=t;A.stopPropagation=function(){this.eb=t};A.preventDefault=function(){this.defaultPrevented=t;this.Se=z};function Hb(a){Hb[" "](a);return a}Hb[" "]=ea;function Ib(a,c){a&&this.ec(a,c)}E(Ib,O);A=Ib.prototype;A.target=u;A.relatedTarget=u;A.offsetX=0;A.offsetY=0;A.clientX=0;A.clientY=0;A.screenX=0;A.screenY=0;A.button=0;A.keyCode=0;A.charCode=0;A.ctrlKey=z;A.altKey=z;A.shiftKey=z;A.metaKey=z;A.Xf=z;A.$b=u;
A.ec=function(a,c){var b=this.type=a.type;O.call(this,b);this.target=a.target||a.srcElement;this.currentTarget=c;var d=a.relatedTarget;if(d){if(K){var e;a:{try{Hb(d.nodeName);e=t;break a}catch(f){}e=z}e||(d=u)}}else"mouseover"==b?d=a.fromElement:"mouseout"==b&&(d=a.toElement);this.relatedTarget=d;this.offsetX=bb||a.offsetX!==r?a.offsetX:a.layerX;this.offsetY=bb||a.offsetY!==r?a.offsetY:a.layerY;this.clientX=a.clientX!==r?a.clientX:a.pageX;this.clientY=a.clientY!==r?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==b?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Xf=Xa?a.metaKey:a.ctrlKey;this.state=a.state;this.$b=a;a.defaultPrevented&&this.preventDefault();delete this.eb};A.stopPropagation=function(){Ib.vb.stopPropagation.call(this);this.$b.stopPropagation?this.$b.stopPropagation():this.$b.cancelBubble=t};
A.preventDefault=function(){Ib.vb.preventDefault.call(this);var a=this.$b;if(a.preventDefault)a.preventDefault();else if(a.returnValue=z,ub)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(c){}};A.qa=aa();var Jb={},Kb={},Lb={},Mb={};
function P(a,c,b,d,e){if(ia(c)){for(var f=0;f<c.length;f++)P(a,c[f],b,d,e);return u}if(a&&a[qb])a=a.Fd(c,Nb(b),d,e);else a:{c||n(Error("Invalid event type"));d=!!d;var g=Kb;c in g||(g[c]={Ka:0,Va:0});g=g[c];d in g||(g[d]={Ka:0,Va:0},g.Ka++);var g=g[d],f=na(a),h;g.Va++;if(g[f]){h=g[f];for(var k=0;k<h.length;k++)if(g=h[k],g.Ga==b&&g.ac==e){if(g.xa)break;h[k].gb=z;a=h[k];break a}}else h=g[f]=[],g.Ka++;k=Ob();g=new sb;g.ec(b,k,a,c,d,e);g.gb=z;k.src=a;k.Ga=g;h.push(g);Lb[f]||(Lb[f]=[]);Lb[f].push(g);a.addEventListener?
(a==C||!a.customEvent_)&&a.addEventListener(c,k,d):a.attachEvent(c in Mb?Mb[c]:Mb[c]="on"+c,k);a=g}c=a.key;Jb[c]=a;return c}function Ob(){var a=Pb,c=tb?function(b){return a.call(c.src,c.Ga,b)}:function(b){b=a.call(c.src,c.Ga,b);if(!b)return b};return c}function Qb(a,c,b,d,e){if(ia(c))for(var f=0;f<c.length;f++)Qb(a,c[f],b,d,e);else if(a&&a[qb])a.gd(c,Nb(b),d,e);else if(d=!!d,a=Rb(a,c,d))for(f=0;f<a.length;f++)if(a[f].Ga==b&&a[f].capture==d&&a[f].ac==e){Sb(a[f].key);break}}
function Sb(a){var c=Jb[a];if(!c||c.xa)return z;var b=c.src;if(b&&b[qb])return Tb(b,c);var d=c.type,e=c.proxy,f=c.capture;b.removeEventListener?(b==C||!b.customEvent_)&&b.removeEventListener(d,e,f):b.detachEvent&&b.detachEvent(d in Mb?Mb[d]:Mb[d]="on"+d,e);b=na(b);Lb[b]&&(e=Lb[b],zb(e,c),0==e.length&&delete Lb[b]);c.xa=t;if(c=Kb[d][f][b])c.Pe=t,Ub(d,f,b,c);delete Jb[a];return t}
function Ub(a,c,b,d){if(!d.Nc&&d.Pe){for(var e=0,f=0;e<d.length;e++)d[e].xa?d[e].proxy.src=u:(e!=f&&(d[f]=d[e]),f++);d.length=f;d.Pe=z;0==f&&(delete Kb[a][c][b],Kb[a][c].Ka--,0==Kb[a][c].Ka&&(delete Kb[a][c],Kb[a].Ka--),0==Kb[a].Ka&&delete Kb[a])}}function Rb(a,c,b){var d=Kb;return c in d&&(d=d[c],b in d&&(d=d[b],a=na(a),d[a]))?d[a]:u}
function Vb(a,c,b,d,e){var f=1;c=na(c);if(a[c]){var g=--a.Va,h=a[c];h.Nc?h.Nc++:h.Nc=1;try{for(var k=h.length,l=0;l<k;l++){var m=h[l];m&&!m.xa&&(f&=Wb(m,e)!==z)}}finally{a.Va=Math.max(g,a.Va),h.Nc--,Ub(b,d,c,h)}}return Boolean(f)}function Wb(a,c){a.gb&&Sb(a.key);return a.handleEvent(c)}
function Pb(a,c){if(a.xa)return t;var b=a.type,d=Kb;if(!(b in d))return t;var d=d[b],e,f;if(!tb){e=c||da("window.event");var g=t in d,h=z in d;if(g){if(0>e.keyCode||e.returnValue!=r)return t;a:{var k=z;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(l){k=t}if(k||e.returnValue==r)e.returnValue=t}}k=new Ib;k.ec(e,this);e=t;try{if(g){for(var m=[],q=k.currentTarget;q;q=q.parentNode)m.push(q);f=d[t];f.Va=f.Ka;for(var p=m.length-1;!k.eb&&0<=p&&f.Va;p--)k.currentTarget=m[p],e&=Vb(f,m[p],b,t,k);if(h){f=d[z];
f.Va=f.Ka;for(p=0;!k.eb&&p<m.length&&f.Va;p++)k.currentTarget=m[p],e&=Vb(f,m[p],b,z,k)}}else e=Wb(a,k)}finally{m&&(m.length=0)}return e}b=new Ib(c,this);return e=Wb(a,b)}var Xb="__closure_events_fn_"+(1E9*Math.random()>>>0);function Nb(a){return la(a)?a:a[Xb]||(a[Xb]=function(c){return a.handleEvent(c)})};function Yb(a){Eb.call(this);this.Fb=a;this.Kc=[]}E(Yb,Eb);var Zb=[];Yb.prototype.Fd=function(a,c,b,d,e){ia(c)||(Zb[0]=c,c=Zb);for(var f=0;f<c.length;f++){var g=P(a,c[f],b||this,d||z,e||this.Fb||this);this.Kc.push(g)}return this};
Yb.prototype.gd=function(a,c,b,d,e){if(ia(c))for(var f=0;f<c.length;f++)this.gd(a,c[f],b,d,e);else{a:if(b=b||this,e=e||this.Fb||this,d=!!d,a&&a[qb])b=Nb(b),a=a.ya[c],c=-1,a&&(c=$b(a,b,d,e)),e=-1<c?a[c]:u;else{if(a=Rb(a,c,d))for(c=0;c<a.length;c++)if(!a[c].xa&&a[c].Ga==b&&a[c].capture==d&&a[c].ac==e){e=a[c];break a}e=u}e&&(e=e.key,Sb(e),zb(this.Kc,e))}return this};Yb.prototype.qa=function(){Yb.vb.qa.call(this);xb(this.Kc,Sb);this.Kc.length=0};Yb.prototype.handleEvent=function(){n(Error("EventHandler.handleEvent not implemented"))};var ac;function bc(a,c){var b;b=a.className;b=D(b)&&b.match(/\S+/g)||[];for(var d=Cb(arguments,1),e=b.length+d.length,f=b,g=0;g<d.length;g++)0<=wb(f,d[g])||f.push(d[g]);a.className=b.join(" ");return b.length==e};function cc(a,c){this.width=a;this.height=c}function dc(a,c){return a==c?t:!a||!c?z:a.width==c.width&&a.height==c.height}cc.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};cc.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};cc.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
cc.prototype.scale=function(a,c){var b=ka(c)?c:a;this.width*=a;this.height*=b;return this};var ec=!F||F&&9<=ob;!K&&!F||F&&F&&9<=ob||K&&L("1.9.1");F&&L("9");function fc(a,c){this.x=ga(a)?a:0;this.y=ga(c)?c:0}A=fc.prototype;A.toString=function(){return"("+this.x+", "+this.y+")"};A.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};A.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};A.translate=function(a,c){a instanceof fc?(this.x+=a.x,this.y+=a.y):(this.x+=a,ka(c)&&(this.y+=c));return this};A.scale=function(a,c){var b=ka(c)?c:a;this.x*=a;this.y*=b;return this};function gc(a,c){Ka(c,function(b,c){"style"==c?a.style.cssText=b:"class"==c?a.className=b:"for"==c?a.htmlFor=b:c in hc?a.setAttribute(hc[c],b):0==c.lastIndexOf("aria-",0)||0==c.lastIndexOf("data-",0)?a.setAttribute(c,b):a[c]=b})}var hc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function ic(a,c,b){return jc(document,arguments)}function jc(a,c){var b=c[0],d=c[1];if(!ec&&d&&(d.name||d.type)){b=["<",b];d.name&&b.push(' name="',ya(d.name),'"');if(d.type){b.push(' type="',ya(d.type),'"');var e={};Ra(e,d);delete e.type;d=e}b.push(">");b=b.join("")}b=a.createElement(b);d&&(D(d)?b.className=d:ia(d)?bc.apply(u,[b].concat(d)):gc(b,d));2<c.length&&kc(a,b,c,2);return b}
function kc(a,c,b,d){function e(b){b&&c.appendChild(D(b)?a.createTextNode(b):b)}for(;d<b.length;d++){var f=b[d];ja(f)&&!(ma(f)&&0<f.nodeType)?xb(lc(f)?Bb(f):f,e):e(f)}}function lc(a){if(a&&"number"==typeof a.length){if(ma(a))return"function"==typeof a.item||"string"==typeof a.item;if(la(a))return"function"==typeof a.item}return z}function mc(a){this.hb=a||C.document||document}A=mc.prototype;A.Bf=function(a,c,b){return jc(this.hb,arguments)};A.createElement=function(a){return this.hb.createElement(a)};
A.createTextNode=function(a){return this.hb.createTextNode(String(a))};A.appendChild=function(a,c){a.appendChild(c)};A.append=function(a,c){kc(9==a.nodeType?a:a.ownerDocument||a.document,a,arguments,1)};function Q(){Eb.call(this);this.ya={};this.wf=this}E(Q,Eb);Q.prototype[qb]=t;Q.prototype.customEvent_=t;A=Q.prototype;A.Ud=u;A.addEventListener=function(a,c,b,d){P(this,a,c,b,d)};A.removeEventListener=function(a,c,b,d){Qb(this,a,c,b,d)};
A.dispatchEvent=function(a){var c,b=this.Ud;if(b)for(c=[];b;b=b.Ud)c.push(b);var b=this.wf,d=a.type||a;if(D(a))a=new O(a,b);else if(a instanceof O)a.target=a.target||b;else{var e=a;a=new O(d,b);Ra(a,e)}var e=t,f;if(c)for(var g=c.length-1;!a.eb&&0<=g;g--)f=a.currentTarget=c[g],e=nc(f,d,t,a)&&e;a.eb||(f=a.currentTarget=b,e=nc(f,d,t,a)&&e,a.eb||(e=nc(f,d,z,a)&&e));if(c)for(g=0;!a.eb&&g<c.length;g++)f=a.currentTarget=c[g],e=nc(f,d,z,a)&&e;return e};
A.qa=function(){Q.vb.qa.call(this);var a=0,c;for(c in this.ya){for(var b=this.ya[c],d=0;d<b.length;d++)++a,delete Jb[b[d].key],b[d].xa=t;b.length=0}this.Ud=u};A.Fd=function(a,c,b,d){var e=this.ya[a]||(this.ya[a]=[]),f;f=$b(e,c,b,d);-1<f?(f=e[f],f.gb=z):(f=new sb,f.ec(c,u,this,a,!!b,d),f.gb=z,e.push(f));return f};A.gd=function(a,c,b,d){if(!(a in this.ya))return z;a=this.ya[a];c=$b(a,c,b,d);return-1<c?(b=a[c],delete Jb[b.key],b.xa=t,1==vb.splice.call(a,c,1).length):z};
function Tb(a,c){var b=c.type;if(!(b in a.ya))return z;if(b=zb(a.ya[b],c))delete Jb[c.key],c.xa=t;return b}function nc(a,c,b,d){if(!(c in a.ya))return t;var e=t;c=Bb(a.ya[c]);for(var f=0;f<c.length;++f){var g=c[f];g&&(!g.xa&&g.capture==b)&&(g.gb&&Tb(a,g),e=g.handleEvent(d)!==z&&e)}return e&&d.Se!=z}function $b(a,c,b,d){for(var e=0;e<a.length;++e){var f=a[e];if(f.Ga==c&&f.capture==!!b&&f.ac==d)return e}return-1};function oc(a){Q.call(this);this.cc={};this.bc={};this.Fb=new Yb(this);this.Ja=a}E(oc,Q);var pc=[F?"readystatechange":"load","abort","error"];oc.prototype.start=function(){var a=this.cc;xb(Na(a),function(c){var b=a[c];if(b&&(delete a[c],!this.Fc)){var d;d=this.Ja?(this.Ja?new mc(9==this.Ja.nodeType?this.Ja:this.Ja.ownerDocument||this.Ja.document):ac||(ac=new mc)).Bf("img"):new Image;this.Fb.Fd(d,pc,this.Re);this.bc[c]=d;d.id=c;d.src=b}},this)};
oc.prototype.Re=function(a){var c=a.currentTarget;if(c){if("readystatechange"==a.type)if("complete"==c.readyState)a.type="load";else return;"undefined"==typeof c.naturalWidth&&("load"==a.type?(c.naturalWidth=c.width,c.naturalHeight=c.height):(c.naturalWidth=0,c.naturalHeight=0));this.dispatchEvent({type:a.type,target:c});if(!this.Fc&&(a=c.id,delete this.cc[a],c=this.bc[a]))delete this.bc[a],this.Fb.gd(c,pc,this.Re),Oa(this.bc)&&Oa(this.cc)&&this.dispatchEvent("complete")}};
oc.prototype.qa=function(){delete this.cc;delete this.bc;var a=this.Fb;a&&"function"==typeof a.Cb&&a.Cb();oc.vb.qa.call(this)};function qc(a){this.vd=a;this.zc={}}qc.prototype.load=function(a,c){var b=new oc;Ka(this.vd,function(a,c){var d=D(a)?a:a.src;d&&(b.cc[c]=d)});var d=0;b.addEventListener("load",function(b){this.zc[b.target.id]=b.target;d=Ma(this.zc)/Ma(this.vd);a(d)},z,this);b.addEventListener("complete",function(){c()},z,this);b.start()};qc.prototype.add=function(a,c){this.vd[a]=c};qc.prototype.get=function(a){if(a in this.zc)return this.zc[a];n(Error("not found"))};function rc(a){return sc(a||arguments.callee.caller,[])}
function sc(a,c){var b=[];if(0<=wb(c,a))b.push("[...circular reference...]");else if(a&&50>c.length){b.push(tc(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){0<e&&b.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=tc(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");b.push(f)}c.push(a);b.push(")\n");try{b.push(sc(a.caller,c))}catch(g){b.push("[exception trying to get caller]\n")}}else a?
b.push("[...long stack...]"):b.push("[end]");return b.join("")}function tc(a){if(uc[a])return uc[a];a=String(a);if(!uc[a]){var c=/function ([^\(]+)/.exec(a);uc[a]=c?c[1]:"[Anonymous]"}return uc[a]}var uc={};function vc(a,c,b,d,e){this.reset(a,c,b,d,e)}vc.prototype.$f=0;vc.prototype.oe=u;vc.prototype.ne=u;var wc=0;vc.prototype.reset=function(a,c,b,d,e){this.$f="number"==typeof e?e:wc++;this.Pg=d||ua();this.fc=a;this.Oe=c;this.Fg=b;delete this.oe;delete this.ne};vc.prototype.Ue=function(a){this.fc=a};function xc(a){this.Vf=a}xc.prototype.Ja=u;xc.prototype.fc=u;xc.prototype.Gb=u;function yc(a,c){this.name=a;this.value=c}yc.prototype.toString=ba("name");var zc=new yc("INFO",800),Ac=new yc("CONFIG",700);A=xc.prototype;A.getParent=ba("Ja");A.Ue=function(a){this.fc=a};function Bc(a){if(a.fc)return a.fc;if(a.Ja)return Bc(a.Ja);Ja("Root logger has no level set.");return u}
A.log=function(a,c,b){if(a.value>=Bc(this).value){a=this.Ef(a,c,b);c="log:"+a.Oe;C.console&&(C.console.timeStamp?C.console.timeStamp(c):C.console.markTimeline&&C.console.markTimeline(c));C.msWriteProfilerMark&&C.msWriteProfilerMark(c);for(c=this;c;){b=c;var d=a;if(b.Gb)for(var e=0,f=r;f=b.Gb[e];e++)f(d);c=c.getParent()}}};
A.Ef=function(a,c,b){var d=new vc(a,String(c),this.Vf);if(b){d.oe=b;var e;var f=arguments.callee.caller;try{var g;var h=da("window.location.href");if(D(b))g={message:b,name:"Unknown error",lineNumber:"Not available",fileName:h,stack:"Not available"};else{var k,l,m=z;try{k=b.lineNumber||b.Eg||"Not available"}catch(q){k="Not available",m=t}try{l=b.fileName||b.filename||b.sourceURL||C.$googDebugFname||h}catch(p){l="Not available",m=t}g=m||!b.lineNumber||!b.fileName||!b.stack?{message:b.message,name:b.name,
lineNumber:k,fileName:l,stack:b.stack||"Not available"}:b}e="Message: "+ya(g.message)+'\nUrl: <a href="view-source:'+g.fileName+'" target="_new">'+g.fileName+"</a>\nLine: "+g.lineNumber+"\n\nBrowser stack:\n"+ya(g.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+ya(rc(f)+"-> ")}catch(s){e="Exception trying to expose exception! You win, we lose. "+s}d.ne=e}return d};A.info=function(a,c){this.log(zc,a,c)};var Cc=u;function Dc(){Cc||(Cc=new xc(""),Cc.Ue(Ac));return Cc};function Ec(a,c){Q.call(this);this.Hc=a||1;this.vc=c||Fc;this.yd=sa(this.bg,this);this.Ed=ua()}E(Ec,Q);Ec.prototype.enabled=z;var Fc=C;A=Ec.prototype;A.wb=u;A.bg=function(){if(this.enabled){var a=ua()-this.Ed;0<a&&a<0.8*this.Hc?this.wb=this.vc.setTimeout(this.yd,this.Hc-a):(this.dispatchEvent(Gc),this.enabled&&(this.wb=this.vc.setTimeout(this.yd,this.Hc),this.Ed=ua()))}};A.start=function(){this.enabled=t;this.wb||(this.wb=this.vc.setTimeout(this.yd,this.Hc),this.Ed=ua())};
A.stop=function(){this.enabled=z;this.wb&&(this.vc.clearTimeout(this.wb),this.wb=u)};A.qa=function(){Ec.vb.qa.call(this);this.stop();delete this.vc};var Gc="tick";function Hc(a,c,b){la(a)?b&&(a=sa(a,b)):a&&"function"==typeof a.handleEvent?a=sa(a.handleEvent,a):n(Error("Invalid listener argument"));2147483647<c||Fc.setTimeout(a,c||0)};function Ic(a){this.hb=a}var Jc=/\s*;\s*/;Ic.prototype.set=function(a,c,b,d,e,f){/[;=\s]/.test(a)&&n(Error('Invalid cookie name "'+a+'"'));/[;\r\n]/.test(c)&&n(Error('Invalid cookie value "'+c+'"'));ga(b)||(b=-1);e=e?";domain="+e:"";d=d?";path="+d:"";f=f?";secure":"";b=0>b?"":0==b?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(ua()+1E3*b)).toUTCString();this.hb.cookie=a+"="+c+e+d+b+f};
Ic.prototype.get=function(a,c){for(var b=a+"=",d=(this.hb.cookie||"").split(Jc),e=0,f;f=d[e];e++){if(0==f.lastIndexOf(b,0))return f.substr(b.length);if(f==a)return""}return c};Ic.prototype.remove=function(a,c,b){var d=ga(this.get(a));this.set(a,"",0,c,b);return d};function Kc(){for(var a=(Lc.hb.cookie||"").split(Jc),c=[],b=[],d,e,f=0;e=a[f];f++)d=e.indexOf("="),-1==d?(c.push(""),b.push(e)):(c.push(e.substring(0,d)),b.push(e.substring(d+1)));return{keys:c,Qg:b}}var Lc=new Ic(document);Lc.lg=3950;function Mc(a,c){c===r?Lc.remove(a):Lc.set(a,c,31536E4);Nc()}function Nc(){xb(Kc().keys,function(a){var c;a:{c=Oc;for(var b in c)if(c[b]==a){c=t;break a}c=z}c||Lc.remove(a)})}var Oc={vg:"s",mg:"m",kg:"h"};function Pc(a,c,b,d,e){O.call(this,c,e);this.wc=a;this.ie=b;this.je=d}E(Pc,O);function R(a,c){this.x=a;this.y=c}E(R,fc);function Qc(){var a=2*Math.random()*Math.PI;return new R(Math.cos(a),Math.sin(a))}function Rc(a){return Math.sqrt(a.x*a.x+a.y*a.y)}R.prototype.scale=fc.prototype.scale;R.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};R.prototype.uc=function(a){this.x-=a.x;this.y-=a.y;return this};R.prototype.rotate=function(a){var c=Math.cos(a);a=Math.sin(a);var b=this.y*c+this.x*a;this.x=this.x*c-this.y*a;this.y=b;return this};
function Sc(a,c){return a.x*c.x+a.y*c.y};function S(a,c){a===r&&(a=0);this.x=a;c===r&&(c=0);this.y=c}E(S,R);A=S.prototype;A.nd=function(){this.y=this.x=0};A.q=function(a,c){this.x=a;this.y=c};function T(a,c){a.x=c.x;a.y=c.y}A.Xa=function(){return new S(this.x,this.y)};function Tc(a,c){var b=a.x;a.x=c.a.x*b+c.b.x*a.y;a.y=c.a.y*b+c.b.y*a.y}A.xb=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};function Uc(a){var c=Rc(a);c<Number.MIN_VALUE||(c=1/c,a.x*=c,a.y*=c)}A.Vb=function(){return isFinite(this.x)&&isFinite(this.y)};
function Vc(a,c){return new S(a.x+c.x,a.y+c.y)}function Wc(a,c){return new S(a.x-c.x,a.y-c.y)};function Xc(){this.type=Yc;this.N=u;this.jb=new S(0,0);this.Kf=0;this.Db=0.2;this.Ec=this.Pb=0;this.Zb=1;this.nc=65535;this.qe=0}Xc.prototype.ld=function(a){a.R=new S(0,0);a.Ua=0;a.Ub=0};Xc.prototype.Zb=0;Xc.prototype.nc=0;Xc.prototype.qe=0;var Yc=-1;function U(a,c,b){a==u&&(a=0);this.a=new S;this.b=new S;c!=u&&b!=u?(T(this.a,c),T(this.b,b)):(c=Math.cos(a),a=Math.sin(a),this.a.x=c,this.b.x=-a,this.a.y=a,this.b.y=c)}A=U.prototype;A.q=function(a){var c=Math.cos(a);a=Math.sin(a);this.a.x=c;this.b.x=-a;this.a.y=a;this.b.y=c};A.Xa=function(){return new U(0,this.a,this.b)};function Zc(a,c){T(a.a,c.a);T(a.b,c.b)}A.nd=function(){this.a.x=0;this.b.x=0;this.a.y=0;this.b.y=0};
A.de=function(a,c,b){var d=this.a.x,e=this.b.x,f=this.a.y,g=this.b.y,h;h=1/(d*g-e*f);a.x=h*(g*c-e*b);a.y=h*(d*b-f*c);return a};A.xb=function(){this.a.xb();this.b.xb()};function $c(a,c){this.g=new U;this.c=new S;this.Da=a.N;this.Y=a.Db;this.Z=a.Pb;this.j=c;this.I=65535;this.Zc=0;this.Zb=a.Zb;this.nc=a.nc;this.Xc=a.qe}$c.prototype.md=aa();$c.prototype.yc=ba("n");$c.prototype.yb=function(){65535!=this.I&&(this.j.F.ta.yb(this.I),this.I=65535)};$c.prototype.od=aa();function ad(){Xc.call(this);this.Rb=Array(8);this.type=2;for(var a=this.kd=0;8>a;a++)this.Rb[a]=new S}E(ad,Xc);function bd(a,c){a.kd=c.length;for(var b=0;b<c.length;b++)a.Rb[b].q(c[b][0],c[b][1])}
ad.prototype.ld=function(a){a.R=new S(0,0);0==this.Ec&&(a.Ua=0,a.R.q(0,0),a.Ub=0);var c=this.Rb,b=this.kd,d=this.Ec,e=new S;e.nd();for(var f=0,g=0,h=new S(0,0),k=1/3,l=0;l<b;++l){var m=h,q=c[l],p=l+1<b?c[l+1]:c[0],s=Wc(q,m),y=Wc(p,m),x=s.x*y.y-s.y*y.x,v=0.5*x,f=f+v,w=new S;T(w,m);w.add(q);w.add(p);w.scale(k*v);e.add(w);q=m.x;m=m.y;p=s.x;s=s.y;v=y.x;y=y.y;g+=x*(k*(0.25*(p*p+v*p+v*v)+(q*p+q*v))+0.5*q*q+(k*(0.25*(s*s+y*s+y*y)+(m*s+m*y))+0.5*m*m))}a.Ua=d*f;e.scale(1/f);a.R=e;g=d*(g-f*Sc(e,e));a.Ub=g};function cd(){this.Ua=this.Ub=0;this.R=new S(0,0)};var dd=Math.PI,ed=2/180/1;function fd(){this.ca=new U;this.R=new S;this.la=new S};function gd(){this.A=new S;this.D=new S}gd.prototype.Vb=function(){var a=this.D.x,c=this.D.y,a=this.D.x,c=this.D.y,a=a-this.A.x,c=c-this.A.y;return a=0<=a&&0<=c&&this.A.Vb()&&this.D.Vb()};function hd(a,c,b){$c.call(this,a,c);this.ia=new gd;this.Q=new U;this.na=new S;this.k=new fd;var d=0,e;c=new gd;this.z=Array(8);this.Kd=Array(8);this.Ba=Array(8);this.Sd=2;var f=new U(a.Kf);this.wa=a.kd;for(var d=a.Rb,g=a.kd,h=id,k=e=0,l=0,m=1/3,q=0;q<g;++q){var p=d[q].x,s=d[q].y,y=q+1<g?d[q+1].x:d[0].x,x=q+1<g?d[q+1].y:d[0].y,v=0.5*((p-0)*(x-0)-(s-0)*(y-0)),l=l+v;e+=v*m*(0+p+y);k+=v*m*(0+s+x)}h.q(e*(1/l),k*(1/l));g=id.x;h=id.y;this.na.x=a.jb.x+(f.a.x*g+f.b.x*h)-b.x;this.na.y=a.jb.y+(f.a.y*g+f.b.y*
h)-b.y;for(d=0;d<this.wa;++d)this.z[d]=new S,this.Kd[d]=new S,b=a.Rb[d].x-g,e=a.Rb[d].y-h,this.z[d].x=f.a.x*b+f.b.x*e,this.z[d].y=f.a.y*b+f.b.y*e,b=this.z[d].x,e=this.z[d].y,k=Math.sqrt(b*b+e*e),k>Number.MIN_VALUE&&(b*=1/k,e*=1/k),this.Kd[d].x=this.z[d].x-0.3*b,this.Kd[d].y=this.z[d].y-0.3*e;f=a=Number.MAX_VALUE;b=-Number.MAX_VALUE;g=-Number.MAX_VALUE;for(d=this.Zc=0;d<this.wa;++d)h=this.z[d],a=Math.min(a,h.x),f=Math.min(f,h.y),b=Math.max(b,h.x),g=Math.max(g,h.y),this.Zc=Math.max(this.Zc,Rc(h));d=
this.k.ca;d.a.x=1;d.b.x=0;d.a.y=0;d.b.y=1;this.k.R.q(0.5*(a+b),0.5*(f+g));this.k.la.q(0.5*(b-a),0.5*(g-f));for(d=f=a=0;d<this.wa;++d)this.Ba[d]=new S,a=d,f=d+1<this.wa?d+1:0,this.Ba[d].x=this.z[f].y-this.z[a].y,this.Ba[d].y=-(this.z[f].x-this.z[a].x),Uc(this.Ba[d]);for(d=0;d<this.wa;++d);Zc(this.g,this.j.g);this.c.x=this.j.c.x+(this.g.a.x*this.na.x+this.g.b.x*this.na.y);this.c.y=this.j.c.y+(this.g.a.y*this.na.x+this.g.b.y*this.na.y);jd.a.x=this.g.a.x*this.k.ca.a.x+this.g.b.x*this.k.ca.a.y;jd.a.y=
this.g.a.y*this.k.ca.a.x+this.g.b.y*this.k.ca.a.y;jd.b.x=this.g.a.x*this.k.ca.b.x+this.g.b.x*this.k.ca.b.y;jd.b.y=this.g.a.y*this.k.ca.b.x+this.g.b.y*this.k.ca.b.y;jd.xb();b=jd.a.x*this.k.la.x+jd.b.x*this.k.la.y;e=jd.a.y*this.k.la.x+jd.b.y*this.k.la.y;a=this.c.x+(this.g.a.x*this.k.R.x+this.g.b.x*this.k.R.y);f=this.c.y+(this.g.a.y*this.k.R.x+this.g.b.y*this.k.R.y);c.A.x=a-b;c.A.y=f-e;c.D.x=a+b;c.D.y=f+e;a=this.j.F.ta;kd(a,c)?this.I=ld(a,c,this):this.I=65535;65535==this.I&&md(this.j)}E(hd,$c);
hd.prototype.ia=new gd;hd.prototype.Q=new U;
hd.prototype.od=function(a,c,b,d){Zc(this.g,d);this.c.x=this.j.c.x+(d.a.x*this.na.x+d.b.x*this.na.y);this.c.y=this.j.c.y+(d.a.y*this.na.x+d.b.y*this.na.y);if(65535!=this.I){var e,f;e=c.a;f=c.b;var g=this.k.ca.a,h=this.k.ca.b;this.Q.a.x=e.x*g.x+f.x*g.y;this.Q.a.y=e.y*g.x+f.y*g.y;this.Q.b.x=e.x*h.x+f.x*h.y;this.Q.b.y=e.y*h.x+f.y*h.y;this.Q.xb();e=this.na.x+this.k.R.x;f=this.na.y+this.k.R.y;g=a.x+(c.a.x*e+c.b.x*f);a=a.y+(c.a.y*e+c.b.y*f);e=this.Q.a.x*this.k.la.x+this.Q.b.x*this.k.la.y;f=this.Q.a.y*this.k.la.x+
this.Q.b.y*this.k.la.y;this.ia.A.x=g-e;this.ia.A.y=a-f;this.ia.D.x=g+e;this.ia.D.y=a+f;e=d.a;f=d.b;g=this.k.ca.a;h=this.k.ca.b;this.Q.a.x=e.x*g.x+f.x*g.y;this.Q.a.y=e.y*g.x+f.y*g.y;this.Q.b.x=e.x*h.x+f.x*h.y;this.Q.b.y=e.y*h.x+f.y*h.y;this.Q.xb();e=this.na.x+this.k.R.x;f=this.na.y+this.k.R.y;g=b.x+(d.a.x*e+d.b.x*f);a=b.y+(d.a.y*e+d.b.y*f);e=this.Q.a.x*this.k.la.x+this.Q.b.x*this.k.la.y;f=this.Q.a.y*this.k.la.x+this.Q.b.y*this.k.la.y;this.ia.A.x=Math.min(this.ia.A.x,g-e);this.ia.A.y=Math.min(this.ia.A.y,
a-f);this.ia.D.x=Math.max(this.ia.D.x,g+e);this.ia.D.y=Math.max(this.ia.D.y,a+f);b=this.j.F.ta;kd(b,this.ia)?nd(b,this.I,this.ia):md(this.j)}};
hd.prototype.md=function(a){if(65535!=this.I){a.yb(this.I);var c=new U(0,od(this.g,this.k.ca.a),od(this.g,this.k.ca.b)),c=new U(0,new S(Math.abs(c.a.x),Math.abs(c.a.y)),new S(Math.abs(c.b.x),Math.abs(c.b.y))),c=od(c,this.k.la),b=od(this.g,this.k.R);b.add(this.c);var d=new gd;T(d.A,b);d.A.uc(c);T(d.D,b);d.D.add(c);kd(a,d)?this.I=ld(a,d,this):this.I=65535;65535==this.I&&md(this.j)}};var id=new S,jd=new U;function pd(){Xc.call(this);this.type=0;this.sb=1}E(pd,Xc);pd.prototype.ld=function(a){a.Ua=this.Ec*dd*this.sb*this.sb;a.Ub=0.5*a.Ua*this.sb*this.sb};function qd(a,c,b){$c.call(this,a,c);this.ra=new S;this.ra.q(a.jb.x-b.x,a.jb.y-b.y);this.Sd=a.type;this.e=a.sb;Zc(this.g,this.j.g);a=this.g.a.x*this.ra.x+this.g.b.x*this.ra.y;c=this.g.a.y*this.ra.x+this.g.b.y*this.ra.y;this.c.x=this.j.c.x+a;this.c.y=this.j.c.y+c;this.Zc=Math.sqrt(a*a+c*c)+this.e;a=new gd;a.A.q(this.c.x-this.e,this.c.y-this.e);a.D.q(this.c.x+this.e,this.c.y+this.e);c=this.j.F.ta;kd(c,a)?this.I=ld(c,a,this):this.I=65535;65535==this.I&&md(this.j)}E(qd,$c);
qd.prototype.od=function(a,c,b,d){Zc(this.g,d);this.c.x=d.a.x*this.ra.x+d.b.x*this.ra.y+b.x;this.c.y=d.a.y*this.ra.x+d.b.y*this.ra.y+b.y;if(65535!=this.I){b=a.x+(c.a.x*this.ra.x+c.b.x*this.ra.y);d=a.y+(c.a.y*this.ra.x+c.b.y*this.ra.y);a=Math.min(b,this.c.x);c=Math.min(d,this.c.y);b=Math.max(b,this.c.x);var e=Math.max(d,this.c.y);d=new gd;d.A.q(a-this.e,c-this.e);d.D.q(b+this.e,e+this.e);a=this.j.F.ta;kd(a,d)?nd(a,this.I,d):md(this.j)}};
qd.prototype.md=function(a){if(65535!=this.I){a.yb(this.I);var c=new gd;c.A.q(this.c.x-this.e,this.c.y-this.e);c.D.q(this.c.x+this.e,this.c.y+this.e);kd(a,c)?this.I=ld(a,c,this):this.I=65535;65535==this.I&&md(this.j)}};function od(a,c){return new S(a.a.x*c.x+a.b.x*c.y,a.a.y*c.x+a.b.y*c.y)};function rd(a,c){this.Te=new U;this.c=new S;T(this.c,a.position);this.Qd=new S;T(this.Qd,this.c);var b=0,d,e;this.h=0;this.Ca=a.rotation;this.g=new U(0);this.g.q(this.Ca);this.Ie=this.Ca;this.F=c;this.Qf=Math.max(0,Math.min(1-a.ye,1));this.Mf=Math.max(0,Math.min(1-a.he,1));this.hc=new S(0,0);this.Lb=this.Ke=0;for(var f=Array(64),b=0;64>b;b++)f[b]=new cd;this.lc=0;this.Ha=new S(0,0);for(b=0;64>b;++b){d=a.Qb[b];if(d==u)break;e=f[b];d.ld(e);this.Lb+=e.Ua;this.Ha.x+=e.Ua*(d.jb.x+e.R.x);this.Ha.y+=e.Ua*
(d.jb.y+e.R.y);++this.lc}0<this.Lb?(this.Ha.scale(1/this.Lb),this.c.add(od(this.g,this.Ha))):this.h|=sd;for(b=this.kb=0;b<this.lc;++b)d=a.Qb[b],e=f[b],this.kb+=e.Ub,d=Wc(Vc(d.jb,e.R),this.Ha),this.kb+=e.Ua*Sc(d,d);this.M=0<this.Lb?1/this.Lb:0;this.ua=0<this.kb&&a.Yf==z?1/this.kb:this.kb=0;this.w=Vc(a.Jf,new S(-a.wd*this.Ha.y,a.wd*this.Ha.x));this.O=a.wd;this.bb=this.n=this.L=this.J=this.Aa=u;for(b=0;b<this.lc;++b){d=a.Qb[b];var g;e=d;f=this.Ha;e instanceof pd?g=new qd(e,this,f):e instanceof ad?g=
new hd(e,this,f):n("unsupported ShapeDef");g.n=this.bb;this.bb=g}this.Nb=0;a.yf&&(this.h|=td);a.Hf&&(this.h|=ud);if(this.h&ud||0==this.M)this.w.q(0,0),this.O=0;this.Da=a.N}function vd(a){a.h&=~ud;a.Nb=0}rd.prototype.yc=ba("n");function md(a){a.h|=wd;a.w.nd();a.O=0;for(a=a.bb;a!=u;a=a.n)a.yb()}var sd=1,wd=2,ud=8,td=16;var xd=new (aa());function yd(){this.Xd=this.Dg=this.zd=u};function zd(){this.next=this.prev=this.W=this.ea=u};function Ad(a,c){this.l=new zd;this.o=new zd;this.h=0;!a||!c?this.v=this.t=u:(this.t=a,this.v=c,this.oa=0,this.Y=Math.sqrt(this.t.Y*this.v.Y),this.Z=Math.max(this.t.Z,this.v.Z),this.n=this.L=u,this.l.W=u,this.l.prev=u,this.l.next=u,this.l.ea=u,this.o.W=u,this.o.prev=u,this.o.next=u,this.o.ea=u)}Ad.prototype.zb=ca(u);Ad.prototype.yc=ba("n");Ad.prototype.Tb=aa();function Bd(a){this.Ag=a;this.pf=this.tf=this.rf=this.yg=0};function Cd(){this.fb=0;this.H=new Bd(this)}Cd.prototype.q=function(a){Dd(this,a.fb)};Cd.prototype.Xa=function(){var a=new Cd;Dd(a,this.fb);return a};function Dd(a,c){a.fb=c;a.H.tf=a.fb&255;a.H.zg=(a.fb&65280)>>8&255;a.H.rf=(a.fb&16711680)>>16&255;a.H.pf=(a.fb&4278190080)>>24&255};function Ed(){this.position=new S;this.id=new Cd;this.V=this.P=this.Fa=u};function Fd(){this.G=0;this.K=Array(2);for(var a=0;2>a;a++)this.K[a]=new Ed;this.B=new S};function Gd(a,c){this.l=new zd;this.o=new zd;this.h=0;!a||!c?this.v=this.t=u:(this.t=a,this.v=c,this.oa=0,this.Y=Math.sqrt(this.t.Y*this.v.Y),this.Z=Math.max(this.t.Z,this.v.Z),this.n=this.L=u,this.l.W=u,this.l.prev=u,this.l.next=u,this.l.ea=u,this.o.W=u,this.o.prev=u,this.o.next=u,this.o.ea=u,this.Pc=new Fd,this.X=[new Fd],this.X[0].G=0)}E(Gd,Ad);
Gd.prototype.Tb=function(){for(var a=this.X[0],c=this.Pc.K,b=0;b<a.G;b++){var d=c[b],e=a.K[b];d.P=e.P;d.V=e.V;d.id=e.id.Xa()}this.Pc.G=a.G;var b=this.t,f=this.v;a.G=0;var g,c=[0],d=Hd(c,b,f);g=c[0];if(!(0<d)){var h,c=[0],k=Hd(c,f,b);h=c[0];if(!(0<k)){c=e=0;k>0.98*d+0.0010?(d=f,k=b,e=h,c=1):(d=b,k=f,e=g,c=0);b=[new Id,new Id];f=e;g=k;var l=d.z,k=g.wa;h=g.z;for(var m=l[f+1==d.wa?0:f+1],q=m.x,p=m.y,m=l[f],q=q-m.x,p=p-m.y,m=q,q=p,p=-m,m=1/Math.sqrt(q*q+p*p),q=q*m,s=p*m,m=q,l=d.g,q=l.a.x*m+l.b.x*s,s=l.a.y*
m+l.b.y*s,p=q,q=s,l=g.g,m=p*l.a.x+q*l.a.y,q=p*l.b.x+q*l.b.y,p=m,s=l=0,y=Number.MAX_VALUE,x=0;x<k;++x){var v=x,w=x+1<k?x+1:0,m=h[w],B=m.x,G=m.y,m=h[v],B=B-m.x,G=G-m.y,m=B,B=G,G=-m,m=1/Math.sqrt(B*B+G*G),B=B*m,G=G*m,m=B*p+G*q;m<y&&(y=m,l=v,s=w)}k=b[0];m=k.Wa;T(m,h[l]);Tc(m,g.g);m.add(g.c);k.id.H.fd=f;k.id.H.dc=l;k.id.H.Hb=l;k=b[1];m=k.Wa;T(m,h[s]);Tc(m,g.g);m.add(g.c);k.id.H.fd=f;k.id.H.dc=l;k.id.H.Hb=s;f=d.z;m=f[e];p=e+1<d.wa?f[e+1]:f[0];g=p.x-m.x;h=p.y-m.y;q=g;l=d.g;g=l.a.x*q+l.b.x*h;h=l.a.y*q+l.b.y*
h;e=1/Math.sqrt(g*g+h*h);g*=e;h*=e;q=g;e=h;f=-q;k=m.x;s=m.y;q=k;l=d.g;k=l.a.x*q+l.b.x*s;s=l.a.y*q+l.b.y*s;k+=d.c.x;s+=d.c.y;m=p.x;p=p.y;q=m;l=d.g;m=l.a.x*q+l.b.x*p;p=l.a.y*q+l.b.y*p;m+=d.c.x;p+=d.c.y;d=e*k+f*s;q=-(g*k+h*s);m=g*m+h*p;p=[new Id,new Id];k=[new Id,new Id];l=0;Jd.q(-g,-h);l=Kd(p,b,q);if(!(2>l)&&(Jd.q(g,h),l=Kd(k,p,m),!(2>l))){c?a.B.q(-e,-f):a.B.q(e,f);for(g=b=0;2>g;++g)h=k[g].Wa,h=e*h.x+f*h.y-d,0>=h&&(m=a.K[b],m.Fa=h,T(m.position,k[g].Wa),m.id.q(k[g].id),m.id.H.Bd=c,++b);a.G=b}}}if(0<
a.G){c=[z,z];for(b=0;b<a.G;++b){d=a.K[b];d.P=0;d.V=0;e=d.id.key;for(f=0;f<this.Pc.G;++f)if(c[f]!=t&&(g=this.Pc.K[f],g.id.key==e)){c[f]=t;d.P=g.P;d.V=g.V;break}}this.oa=1}else this.oa=0};Gd.prototype.zb=ba("X");function Ld(a,c){return new Gd(a,c)};function Md(a,c){this.l=new zd;this.o=new zd;this.h=0;!a||!c?this.v=this.t=u:(this.t=a,this.v=c,this.oa=0,this.Y=Math.sqrt(this.t.Y*this.v.Y),this.Z=Math.max(this.t.Z,this.v.Z),this.n=this.L=u,this.l.W=u,this.l.prev=u,this.l.next=u,this.l.ea=u,this.o.W=u,this.o.prev=u,this.o.next=u,this.o.ea=u,this.X=[new Fd],this.X[0].G=0,this.X[0].K[0].P=0,this.X[0].K[0].V=0)}E(Md,Ad);
Md.prototype.Tb=function(){a:{var a=this.X[0],c=this.t,b=this.v;a.G=0;var d,e,f;e=b.c.x-c.c.x;f=b.c.y-c.c.y;var g=c.g,h=e*g.a.x+f*g.a.y;f=e*g.b.x+f*g.b.y;e=h;var k=0,l=-Number.MAX_VALUE,h=b.e;for(d=0;d<c.wa;++d){var m=c.Ba[d].x*(e-c.z[d].x)+c.Ba[d].y*(f-c.z[d].y);if(m>h)break a;m>l&&(l=m,k=d)}if(l<Number.MIN_VALUE)a.G=1,f=c.Ba[k],a.B.x=g.a.x*f.x+g.b.x*f.y,a.B.y=g.a.y*f.x+g.b.y*f.y,d=a.K[0],d.id.H.dc=k,d.id.H.Hb=255,d.id.H.fd=255,d.id.H.Bd=0,d.position.x=b.c.x-h*a.B.x,d.position.y=b.c.y-h*a.B.y,d.Fa=
l-h;else{var l=k+1<c.wa?k+1:0,q=c.z[l].x-c.z[k].x,m=c.z[l].y-c.z[k].y,p=Math.sqrt(q*q+m*m),q=q/p,m=m/p;if(p<Number.MIN_VALUE)e-=c.z[k].x,f-=c.z[k].y,c=Math.sqrt(e*e+f*f),e/=c,f/=c,c>h||(a.G=1,a.B.q(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f),d=a.K[0],d.id.H.dc=255,d.id.H.Hb=k,d.id.H.fd=255,d.id.H.Bd=0,d.position.x=b.c.x-h*a.B.x,d.position.y=b.c.y-h*a.B.y,d.Fa=c-h);else{var s=(e-c.z[k].x)*q+(f-c.z[k].y)*m;d=a.K[0];d.id.H.dc=255;d.id.H.Hb=255;d.id.H.fd=255;d.id.H.Bd=0;0>=s?(q=c.z[k].x,c=c.z[k].y,d.id.H.Hb=k):
s>=p?(q=c.z[l].x,c=c.z[l].y,d.id.H.Hb=l):(q=q*s+c.z[k].x,c=m*s+c.z[k].y,d.id.H.dc=k);e-=q;f-=c;c=Math.sqrt(e*e+f*f);e/=c;f/=c;c>h||(a.G=1,a.B.q(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f),d.position.x=b.c.x-h*a.B.x,d.position.y=b.c.y-h*a.B.y,d.Fa=c-h)}}}this.oa=0<this.X[0].G?1:0};Md.prototype.zb=ba("X");function Nd(a,c){return new Md(a,c)};function Id(){this.Wa=new S;this.id=new Cd};function Kd(a,c,b){var d=Jd,e=0,f=c[0].Wa,g=c[1].Wa,h=Sc(d,c[0].Wa)-b;b=Sc(d,c[1].Wa)-b;0>=h&&(a[e++]=c[0]);0>=b&&(a[e++]=c[1]);0>h*b&&(b=h/(h-b),d=a[e].Wa,d.x=f.x+b*(g.x-f.x),d.y=f.y+b*(g.y-f.y),a[e].id=0<h?c[0].id:c[1].id,++e);return e}
function Od(a,c,b){for(var d=a.z,e=b.wa,f=b.z,g=a.Ba[c].x,h=a.Ba[c].y,k=g,l=a.g,g=l.a.x*k+l.b.x*h,h=l.a.y*k+l.b.y*h,m=g,q=h,l=b.g,k=m*l.a.x+q*l.a.y,q=m*l.b.x+q*l.b.y,m=k,k=0,l=Number.MAX_VALUE,p=0;p<e;++p){var s=f[p],s=s.x*m+s.y*q;s<l&&(l=s,k=p)}l=a.g;e=a.c.x+(l.a.x*d[c].x+l.b.x*d[c].y);a=a.c.y+(l.a.y*d[c].x+l.b.y*d[c].y);l=b.g;c=b.c.x+(l.a.x*f[k].x+l.b.x*f[k].y);b=b.c.y+(l.a.y*f[k].x+l.b.y*f[k].y);return(c-e)*g+(b-a)*h}
function Hd(a,c,b){for(var d=c.wa,e=b.c.x-c.c.x,f=b.c.y-c.c.y,g=e*c.g.a.x+f*c.g.a.y,f=e*c.g.b.x+f*c.g.b.y,e=0,h=-Number.MAX_VALUE,k=0;k<d;++k){var l=c.Ba[k].x*g+c.Ba[k].y*f;l>h&&(h=l,e=k)}g=Od(c,e,b);if(0<g)return g;k=0<=e-1?e-1:d-1;l=Od(c,k,b);if(0<l)return l;var m=e+1<d?e+1:0,q=Od(c,m,b);if(0<q)return q;h=f=0;if(l>g&&l>q)h=-1,f=k,k=l;else if(q>g)h=1,f=m,k=q;else return a[0]=e,g;for(;;){e=-1==h?0<=f-1?f-1:d-1:f+1<d?f+1:0;g=Od(c,e,b);if(0<g)return g;if(g>k)f=e,k=g;else break}a[0]=f;return k}
var Jd=new S;function Pd(a,c){this.l=new zd;this.o=new zd;this.h=0;!a||!c?this.v=this.t=u:(this.t=a,this.v=c,this.oa=0,this.Y=Math.sqrt(this.t.Y*this.v.Y),this.Z=Math.max(this.t.Z,this.v.Z),this.n=this.L=u,this.l.W=u,this.l.prev=u,this.l.next=u,this.l.ea=u,this.o.W=u,this.o.prev=u,this.o.next=u,this.o.ea=u,this.X=[new Fd],this.X[0].G=0,this.X[0].K[0].P=0,this.X[0].K[0].V=0)}E(Pd,Ad);
Pd.prototype.Tb=function(){var a=this.X[0],c=this.t,b=this.v;a.G=0;var d=b.c.x-c.c.x,e=b.c.y-c.c.y,f=d*d+e*e,c=c.e+b.e;if(!(f>c*c)){if(f<Number.MIN_VALUE)f=-c,a.B.q(0,1);else{var g=Math.sqrt(f),f=g-c,c=1/g;a.B.x=c*d;a.B.y=c*e}a.G=1;d=a.K[0];Dd(d.id,0);d.Fa=f;d.position.x=b.c.x-b.e*a.B.x;d.position.y=b.c.y-b.e*a.B.y}this.oa=0<this.X[0].G?1:0};Pd.prototype.zb=ba("X");function Qd(a,c){return new Pd(a,c)};function Rd(a,c,b){Sd[c][b].zd=a;Sd[c][b].Xd=t;c!=b&&(Sd[b][c].zd=a,Sd[b][c].Xd=z)}var Sd=u,Td=z;function Ud(a,c){this.l=new zd;this.o=new zd;this.h=0;!a||!c?this.v=this.t=u:(this.t=a,this.v=c,this.oa=0,this.Y=Math.sqrt(this.t.Y*this.v.Y),this.Z=Math.max(this.t.Z,this.v.Z),this.n=this.L=u,this.l.W=u,this.l.prev=u,this.l.next=u,this.l.ea=u,this.o.W=u,this.o.prev=u,this.o.next=u,this.o.ea=u)}E(Ud,Ad);Ud.prototype.Tb=aa();Ud.prototype.zb=ca(u);function Vd(){}Vd.prototype.be=ca(u);Vd.prototype.ce=aa();function Wd(a){this.Od=new Ud;this.F=a;this.Ld=z}E(Wd,Vd);
Wd.prototype.be=function(a,c){var b=a,d=c,e=b.j,f=d.j,g;if(!(g=(e.h&sd)==sd&&(f.h&sd)==sd||b.j==d.j))a:{for(g=f.Aa;g!=u;g=g.next)if(g.ea==e){g=g.Jc.Of==z;break a}g=z}if(g||(b.Xc==d.Xc&&0!=b.Xc?0<b.Xc:0!=(b.nc&d.Zb)&&0!=(b.Zb&d.nc))==z)return this.Od;0==f.M&&(e=b,b=d,d=e);if(Td==z){Sd=Array(4);for(e=0;4>e;e++){Sd[e]=Array(4);for(f=0;4>f;f++)Sd[e][f]=new yd}Rd(Qd,0,0);Rd(Nd,2,0);Rd(Ld,2,2);Td=t}e=b.Sd;f=d.Sd;if(g=Sd[e][f].zd)if(Sd[e][f].Xd)d=g(b,d);else{d=g(d,b);for(b=0;b<d.oa;++b)e=d.zb()[b],e.B=new S(-e.B.x,
-e.B.y)}else d=u;if(d==u)return this.Od;d.L=u;d.n=this.F.J;this.F.J!=u&&(this.F.J.L=d);this.F.J=d;this.F.mb++;return d};Wd.prototype.ce=function(a,c,b){b!=u&&b!=this.Od&&(this.Ld==t?Xd(this,b):b.h|=2)};
function Xd(a,c){c.L&&(c.L.n=c.n);c.n&&(c.n.L=c.L);c==a.F.J&&(a.F.J=c.n);if(0<c.oa){var b=c.t.j,d=c.v.j,e=c.l,f=c.o;vd(b);vd(d);e.prev&&(e.prev.next=e.next);e.next&&(e.next.prev=e.prev);e==b.J&&(b.J=e.next);e.prev=u;e.next=u;f.prev&&(f.prev.next=f.next);f.next&&(f.next.prev=f.prev);f==d.J&&(d.J=f.next);f.prev=u;f.next=u}--a.F.mb};function Yd(){this.Lc=new S;this.Mc=new S;this.xc=this.Fa=this.Ye=this.Td=this.rc=this.V=this.P=u};function Zd(){this.Pb=this.Db=this.Dc=this.Cc=this.Le=u;this.G=0;this.B=new S;this.K=Array(2);for(var a=0;2>a;a++)this.K[a]=new Yd};function $d(a,c){this.Ib=[];for(var b=0,d,e,b=this.lb=0;b<c;++b)this.lb+=a[b].oa;for(b=0;b<this.lb;b++)this.Ib[b]=new Zd;for(var f=0,b=0;b<c;++b)for(var g=a[b],h=g.t.j,k=g.v.j,l=g.oa,m=g.zb(),q=g.Y,g=g.Z,p=h.w.x,s=h.w.y,y=k.w.x,x=k.w.y,v=h.O,w=k.O,B=0;B<l;++B){var G=m[B],N=G.B.x,H=G.B.y,J=this.Ib[f];J.Cc=h;J.Dc=k;J.Le=G;J.B.x=N;J.B.y=H;J.G=G.G;J.Db=q;J.Pb=g;for(var W=0;W<J.G;++W){var I=G.K[W],M=J.K[W];M.P=I.P;M.V=I.V;M.Fa=I.Fa;var Z=I.position.x-h.c.x,Fa=I.position.y-h.c.y,Ga=I.position.x-k.c.x,I=
I.position.y-k.c.y;d=M.Lc;e=h.g;d.x=Z*e.a.x+Fa*e.a.y;d.y=Z*e.b.x+Fa*e.b.y;d=M.Mc;e=k.g;d.x=Ga*e.a.x+I*e.a.y;d.y=Ga*e.b.x+I*e.b.y;d=Z*Z+Fa*Fa;e=Ga*Ga+I*I;var pb=Z*N+Fa*H,xa=Ga*N+I*H,ha=h.M+k.M,ha=ha+(h.ua*(d-pb*pb)+k.ua*(e-xa*xa));M.Td=1/ha;xa=H;ha=-N;pb=Z*xa+Fa*ha;xa=Ga*xa+I*ha;ha=h.M+k.M;ha+=h.ua*(d-pb*pb)+k.ua*(e-xa*xa);M.Ye=1/ha;M.xc=0;0<M.Fa&&(M.xc=-60*M.Fa);Z=J.B.x*(y+-w*I-p- -v*Fa)+J.B.y*(x+w*Ga-s-v*Z);-30>Z&&(M.xc+=-J.Pb*Z)}++f}}$d.prototype={};
function ae(a,c){for(var b=0,d,e,f=0;f<a.lb;++f){for(var g=a.Ib[f],h=g.Cc,k=g.Dc,l=h.c,m=h.Ca,q=k.c,p=k.Ca,s=h.M,y=h.ua,x=k.M,v=k.ua,w=g.B.x,B=g.B.y,G=g.G,N=0;N<G;++N){var H=g.K[N];d=h.g;e=H.Lc;var J=d.a.x*e.x+d.b.x*e.y,W=d.a.y*e.x+d.b.y*e.y;d=k.g;e=H.Mc;var I=d.a.x*e.x+d.b.x*e.y;d=d.a.y*e.x+d.b.y*e.y;e=(q.x+I-(l.x+J))*w+(q.y+d-(l.y+W))*B+H.Fa;b=Math.min(b,e);e=c*Math.max(-6,Math.min(e+0.15,0));e*=-H.Td;var M=H.rc;H.rc=Math.max(M+e,0);e=H.rc-M;H=e*w;e*=B;l.x-=s*H;l.y-=s*e;m-=y*(J*e-W*H);h.g.q(m);
q.x+=x*H;q.y+=x*e;p+=v*(I*e-d*H);k.g.q(p)}h.Ca=m;k.Ca=p}return-0.15<=b}
function be(a){for(var c=0,b,d,e,f,g,h,k,l,m=0;m<a.lb;++m){for(var q=a.Ib[m],p=q.Cc,s=q.Dc,y=p.O,x=p.w,v=s.O,w=s.w,B=p.M,G=p.ua,N=s.M,H=s.ua,J=q.B.x,W=q.B.y,I=W,M=-J,Z=q.G,c=0;c<Z;++c)b=q.K[c],g=p.g,h=b.Lc,d=g.a.x*h.x+g.b.x*h.y,e=g.a.y*h.x+g.b.y*h.y,g=s.g,h=b.Mc,f=g.a.x*h.x+g.b.x*h.y,g=g.a.y*h.x+g.b.y*h.y,h=w.x+-v*g-x.x- -y*e,k=w.y+v*f-x.y-y*d,h=-b.Td*(h*J+k*W-b.xc),k=Math.max(b.P+h,0),h=k-b.P,l=h*J,h*=W,x.x-=B*l,x.y-=B*h,y-=G*(d*h-e*l),w.x+=N*l,w.y+=N*h,v+=H*(f*h-g*l),b.P=k,h=w.x+-v*g-x.x- -y*e,
k=w.y+v*f-x.y-y*d,h=b.Ye*-(h*I+k*M),k=q.Db*b.P,k=Math.max(-k,Math.min(b.V+h,k)),h=k-b.V,l=h*I,h*=M,x.x-=B*l,x.y-=B*h,y-=G*(d*h-e*l),w.x+=N*l,w.y+=N*h,v+=H*(f*h-g*l),b.V=k;p.O=y;s.O=v}};function ce(a,c,b){var d=0;this.Ig=a;this.Jg=c;this.Lg=b;this.Ta=this.mb=this.ma=0;this.Pa=Array(a);for(d=0;d<a;d++)this.Pa[d]=u;this.Jd=Array(c);for(d=0;d<c;d++)this.Jd[d]=u;this.jc=Array(b);for(d=0;d<b;d++)this.jc[d]=u}
ce.prototype.de=function(a,c){for(var b=0,d,b=0;b<this.ma;++b)d=this.Pa[b],0!=d.M&&(d.w.add(new S(a.ib*Vc(c,new S(d.M*d.hc.x,d.M*d.hc.y)).x,a.ib*Vc(c,new S(d.M*d.hc.x,d.M*d.hc.y)).y)),d.O+=a.ib*d.ua*d.Ke,d.w.scale(d.Qf),d.O*=d.Mf,T(d.Qd,d.c),d.Ie=d.Ca);for(var e=new $d(this.Jd,this.mb),f,g,b=0;b<e.lb;++b){d=e.Ib[b];var h=d.Cc,k=d.Dc,l=h.M,m=h.ua,q=k.M,p=k.ua,s=d.B.x,y=d.B.y,x=y,v=-s,w=0,B=0;if(de){B=d.G;for(w=0;w<B;++w){var G=d.K[w],N=G.P*s+G.V*x,H=G.P*y+G.V*v;g=h.g;f=G.Lc;var J=g.a.x*f.x+g.b.x*f.y,
W=g.a.y*f.x+g.b.y*f.y;g=k.g;f=G.Mc;var I=g.a.x*f.x+g.b.x*f.y;f=g.a.y*f.x+g.b.y*f.y;h.O-=m*(J*H-W*N);h.w.x-=l*N;h.w.y-=l*H;k.O+=p*(I*H-f*N);k.w.x+=q*N;k.w.y+=q*H;G.rc=0}}else{B=d.G;for(w=0;w<B;++w)h=d.K[w],h.P=0,h.V=0,h.rc=0}}for(b=0;b<this.Ta;++b)this.jc[b].qg();for(b=0;b<a.Dd;++b){be(e);for(d=0;d<this.Ta;++d)be(this.jc[d])}for(b=0;b<this.ma;++b)d=this.Pa[b],0!=d.M&&(d.c.x+=a.ib*d.w.x,d.c.y+=a.ib*d.w.y,d.Ca+=a.ib*d.O,d.g.q(d.Ca));for(b=0;b<this.Ta;++b);if(ee)for(fe=0;fe<a.Dd;++fe){d=ae(e,0.2);w=t;
for(b=0;b<this.Ta;++b)B=ae(this.jc[b]),w=w&&B;if(d&&w)break}for(b=0;b<e.lb;++b){d=e.Ib[b];w=d.Le;for(B=0;B<d.G;++B)h=w.K[B],k=d.K[B],h.P=k.P,h.V=k.V}for(b=0;b<this.ma;++b)if(d=this.Pa[b],0!=d.M){d.g.q(d.Ca);e=d;e.Te.q(e.Ie);for(w=e.bb;w!=u;w=w.n)w.od(e.Qd,e.Te,e.c,e.g);d.hc.q(0,0);d.Ke=0}};var fe=0;function ge(){this.Qb=[];this.N=u;for(var a=0;64>a;a++)this.Qb[a]=u;this.position=new S(0,0);this.rotation=0;this.Jf=new S(0,0);this.he=this.ye=this.wd=0;this.yf=t;this.Yf=this.Hf=z}function he(a,c){for(var b=0;64>b;++b)if(a.Qb[b]==u){a.Qb[b]=c;break}};function ie(){this.Gf=this.ib=u;this.Dd=0};function je(){}je.prototype={fa:0,ga:0,next:0,status:0};je.prototype.le=u;function ke(){this.ga=this.fa=0};function le(){var a=0;this.pb=Array(8192);for(a=0;8192>a;++a)this.pb[a]=65535;this.U=Array(8192);for(a=0;8192>a;++a)this.U[a]=new je;this.va=Array(8192);for(a=0;8192>a;++a)this.va[a]=new ke;for(a=0;8192>a;++a)this.U[a].fa=65535,this.U[a].ga=65535,this.U[a].N=u,this.U[a].status=0,this.U[a].next=a+1;this.U[8191].next=65535;this.Pd=0}le.prototype={ta:u,Id:u,Vc:0,Pd:0,va:u,$a:0,pb:u};
function me(a,c,b){c=ne(a,c,b);c!=u&&(1==(c.status&1)==z&&(c.status|=1,a.va[a.$a].fa=c.fa,a.va[a.$a].ga=c.ga,++a.$a),c.status|=2)}function oe(a,c,b){if(c>b){var d=c;c=b;b=d}var d=pe(c,b)&8191,e=qe(a,c,b,d);if(e==u){var f=a.Vc,e=a.U[f];a.Vc=e.next;e.fa=c;e.ga=b;e.status=0;e.N=u;e.next=a.pb[d];a.pb[d]=f;++a.Pd}c=e;1==(c.status&1)==z&&(c.status|=1,a.va[a.$a].fa=c.fa,a.va[a.$a].ga=c.ga,++a.$a);c.status&=-3}function ne(a,c,b){if(c>b){var d=c;c=b;b=d}return qe(a,c,b,pe(c,b)&8191)}
function qe(a,c,b,d){for(d=a.pb[d];65535!=d&&(a.U[d].fa==c&&a.U[d].ga==b)==z;)d=a.U[d].next;return 65535==d?u:a.U[d]}
le.prototype.Sb=function(){for(var a=0,c=0,b=this.ta.aa,d=[],a=0;a<this.$a;++a){var e=ne(this,this.va[a].fa,this.va[a].ga);e.status&=-2;var f=b[e.fa],g=b[e.ga];2==(e.status&2)?(4==(e.status&4)==t&&this.Id.ce(f.N,g.N,e.N),this.va[c].fa=e.fa,this.va[c].ga=e.ga,++c):4==(e.status&4)==z&&(e.le=this.Id.be(f.N,g.N),d.push(e.le),e.status|=4)}for(a=0;a<c;++a)a:{b=this.va[a].fa;e=this.va[a].ga;b>e&&(f=b,b=e,e=f);for(var f=pe(b,e)&8191,g=this.pb[f],h=u;65535!=g;){if(this.U[g].fa==b&&this.U[g].ga==e){b=g;h?h.next=
this.U[g].next:this.pb[f]=this.U[g].next;e=this.U[b];e.next=this.Vc;e.fa=65535;e.ga=65535;e.N=u;e.status=0;this.Vc=b;--this.Pd;break a}h=this.U[g];g=h.next}}this.$a=0;return d};function pe(a,c){var b=c<<16&4294901760|a,b=~b+(b<<15&4294934528),b=b^b>>12&1048575,b=b+(b<<2&4294967292),b=2057*(b^b>>4&268435455);return b^=b>>16&65535};function re(){this.m=this.C=this.value=0}function se(a,c){var b=a.value,d=a.C,e=a.m;a.value=c.value;a.C=c.C;a.m=c.m;c.value=b;c.C=d;c.m=e};function te(){this.S=[0,0];this.ja=[0,0];this.timeStamp=this.rb=0;this.N=u}te.prototype={yc:function(){return this.S[0]},Vb:function(){return 65535!=this.rb}};function ue(){this.Oc=[0,0];this.hd=[0,0]};function ve(a,c){this.Ia=new le;this.aa=Array(8192);this.za=Array(2048);this.kc=Array(1024);this.Mb=new S;var b=0,b=this.Ia;b.ta=this;b.Id=c;this.$=a;for(b=this.qb=0;1024>b;b++)this.kc[b]=0;this.za=Array(2);for(b=0;2>b;b++){this.za[b]=Array(2048);for(var d=0;2048>d;d++)this.za[b][d]=new re}b=a.D.x;d=a.D.y;b-=a.A.x;d-=a.A.y;this.Mb.x=65535/b;this.Mb.y=65535/d;for(b=0;1023>b;++b)d=new te,this.aa[b]=d,d.S[0]=b+1,d.timeStamp=0,d.rb=65535,d.N=u;d=new te;this.aa[1023]=d;d.S[0]=65535;d.timeStamp=0;d.rb=
65535;d.N=u;this.Wc=0;this.mc=1;this.ab=0}function kd(a,c){var b,d,e,f;b=c.A.x;d=c.A.y;b-=a.$.D.x;d-=a.$.D.y;e=a.$.A.x;f=a.$.A.y;e-=c.D.x;f-=c.D.y;b=Math.max(b,e);d=Math.max(d,f);return 0>Math.max(b,d)}
ve.prototype.yb=function(a){for(var c=this.aa[a],b=2*this.qb,d=0;2>d;++d){for(var e=this.za[d],f=c.S[d],g=c.ja[d],h=e[f].value,k=e[g].value,l=[],m=0,q=g-f-1,p,s,m=0;m<q;m++)l[m]=new re,p=l[m],s=e[f+1+m],p.value=s.value,p.C=s.C,p.m=s.m;for(var q=l.length,y=f,m=0;m<q;m++)s=l[m],p=e[y+m],p.value=s.value,p.C=s.C,p.m=s.m;l=[];q=b-g-1;for(m=0;m<q;m++)l[m]=new re,p=l[m],s=e[g+1+m],p.value=s.value,p.C=s.C,p.m=s.m;q=l.length;y=g-1;for(m=0;m<q;m++)s=l[m],p=e[y+m],p.value=s.value,p.C=s.C,p.m=s.m;q=b-2;for(l=
f;l<q;++l)m=this.aa[e[l].C],0==(e[l].value&1)?m.S[d]=l:m.ja[d]=l;for(q=g-1;f<q;++f)e[f].m--;this.Wb([0],[0],h,k,e,b-2,d)}for(b=0;b<this.ab;++b)me(this.Ia,a,this.kc[b]);this.Ia.Sb();this.ab=0;we(this);c.N=u;c.rb=65535;c.S[0]=65535;c.S[1]=65535;c.ja[0]=65535;c.ja[1]=65535;c.S[0]=this.Wc;this.Wc=a;--this.qb};
function xe(a,c,b,d){var e=d.A.x,f=d.A.y,e=Math.min(e,a.$.D.x),f=Math.min(f,a.$.D.y),e=Math.max(e,a.$.A.x),f=Math.max(f,a.$.A.y),g=d.D.x;d=d.D.y;g=Math.min(g,a.$.D.x);d=Math.min(d,a.$.D.y);g=Math.max(g,a.$.A.x);d=Math.max(d,a.$.A.y);c[0]=a.Mb.x*(e-a.$.A.x)&65534;b[0]=a.Mb.x*(g-a.$.A.x)&65535|1;c[1]=a.Mb.y*(f-a.$.A.y)&65534;b[1]=a.Mb.y*(d-a.$.A.y)&65535|1}function ye(a,c,b){for(var d=0;2>d;++d){var e=a.za[d];if(c.Oc[d]>e[b.ja[d]].value||c.hd[d]<e[b.S[d]].value)return z}return t}
ve.prototype.Wb=function(a,c,b,d,e,f,g){b=ze(e,f,b);d=ze(e,f,d);for(f=b;f<d;++f)0==(e[f].value&1)&&Ae(this,e[f].C);if(0<b){f=b-1;for(var h=e[f].m;h;)0==(e[f].value&1)&&b<=this.aa[e[f].C].ja[g]&&(Ae(this,e[f].C),--h),--f}a[0]=b;c[0]=d};function Ae(a,c){var b=a.aa[c];b.timeStamp<a.mc?(b.timeStamp=a.mc,b.rb=1):(b.rb=2,a.kc[a.ab]=c,++a.ab)}function we(a){if(65535==a.mc){for(var c=0;1024>c;++c)a.aa[c].timeStamp=0;a.mc=1}else++a.mc}
function nd(a,c,b){var d=0,e=0,f,g;f=0;var h;if(!(65535==c||1024<=c)&&b.Vb()!=z){var k=2*a.qb,l=a.aa[c],m=new ue;xe(a,m.Oc,m.hd,b);for(var q=new ue,d=0;2>d;++d)q.Oc[d]=a.za[d][l.S[d]].value,q.hd[d]=a.za[d][l.ja[d]].value;for(d=0;2>d;++d){var p=a.za[d],s=l.S[d],y=l.ja[d],x=m.Oc[d],v=m.hd[d],w=x-p[s].value,B=v-p[y].value;p[s].value=x;p[y].value=v;if(0>w)for(e=s;0<e&&x<p[e-1].value;)b=p[e],f=p[e-1],g=f.C,h=a.aa[f.C],f.m++,1==(f.value&1)==t?(ye(a,m,h)&&oe(a.Ia,c,g),h.ja[d]++,b.m++):(h.S[d]++,b.m--),l.S[d]--,
se(b,f),--e;if(0<B)for(e=y;e<k-1&&p[e+1].value<=v;)b=p[e],g=p[e+1],f=g.C,h=a.aa[f],g.m++,0==(g.value&1)==t?(ye(a,m,h)&&oe(a.Ia,c,f),h.S[d]--,b.m++):(h.ja[d]--,b.m--),l.ja[d]++,se(b,g),e++;if(0<w)for(e=s;e<k-1&&p[e+1].value<=x;)b=p[e],g=p[e+1],f=g.C,h=a.aa[f],g.m--,1==(g.value&1)?(ye(a,q,h)&&me(a.Ia,c,f),h.ja[d]--,b.m--):(h.S[d]--,b.m++),l.S[d]++,se(b,g),e++;if(0>B)for(e=y;0<e&&v<p[e-1].value;)b=p[e],f=p[e-1],g=f.C,h=a.aa[g],f.m--,0==(f.value&1)==t?(ye(a,q,h)&&me(a.Ia,c,g),h.S[d]++,b.m--):(h.ja[d]++,
b.m++),l.ja[d]--,se(b,f),e--}}}ve.prototype.Sb=function(){return this.Ia.Sb()};
function ld(a,c,b){var d=0,e,f=a.Wc;e=a.aa[f];a.Wc=e.yc();e.rb=0;e.N=b;b=2*a.qb;e=[];var g=[];xe(a,e,g,c);for(c=0;2>c;++c){var h=a.za[c],k=0,l=0,k=[k],l=[l];a.Wb(k,l,e[c],g[c],h,b,c);for(var k=k[0],l=l[0],d=[],m=0,q=b-l,p,s,m=0;m<q;m++)d[m]=new re,p=d[m],s=h[l+m],p.value=s.value,p.C=s.C,p.m=s.m;for(var q=d.length,y=l+2,m=0;m<q;m++)s=d[m],p=h[y+m],p.value=s.value,p.C=s.C,p.m=s.m;d=[];q=l-k;for(m=0;m<q;m++)d[m]=new re,p=d[m],s=h[k+m],p.value=s.value,p.C=s.C,p.m=s.m;q=d.length;y=k+1;for(m=0;m<q;m++)s=
d[m],p=h[y+m],p.value=s.value,p.C=s.C,p.m=s.m;++l;h[k].value=e[c];h[k].C=f;h[l].value=g[c];h[l].C=f;h[k].m=0==k?0:h[k-1].m;h[l].m=h[l-1].m;for(d=k;d<l;++d)h[d].m++;for(d=k;d<b+2;++d)k=a.aa[h[d].C],0==(h[d].value&1)?k.S[c]=d:k.ja[c]=d}++a.qb;for(b=0;b<a.ab;++b)oe(a.Ia,f,a.kc[b]);a.Ia.Sb();a.ab=0;we(a);return f}function ze(a,c,b){var d=0;for(c-=1;d<=c;){var e=Math.floor((d+c)/2);if(a[e].value>b)c=e-1;else if(a[e].value<b)d=e+1;else return e}return d};new U;function Be(a,c,b){this.$c=new ie;this.nb=new Wd(this);this.Fe=u;this.Bg=xd;this.Aa=this.J=this.Ya=u;this.Ta=this.mb=this.ma=0;this.Qc=u;this.Lf=b;this.Md=c;this.nb.F=this;this.ta=new ve(a,this.nb);a=new ge;this.Kg=Ce(this,a);this.xe=[];this.We=z}function Ce(a,c){var b=new rd(c,a);b.L=u;if(b.n=a.Ya)a.Ya.L=b;a.Ya=b;++a.ma;return b}function De(a,c){c.h&32||(c.L&&(c.L.n=c.n),c.n&&(c.n.L=c.L),c==a.Ya&&(a.Ya=c.n),c.h|=32,--a.ma,c.L=u,c.n=a.Qc,a.Qc=c)}
function Ee(a){a.nb.Ld=t;for(var c=a.Qc;c;){for(var b=c,c=c.n,d=b.Aa;d;){var e=d,d=d.next,f=a,e=e.Jc,g=e.Of;e.L&&(e.L.n=e.n);e.n&&(e.n.L=e.L);e==f.Aa&&(f.Aa=e.n);var h=e.Gg,k=e.Hg;vd(h);vd(k);e.l.prev&&(e.l.prev.next=e.l.next);e.l.next&&(e.l.next.prev=e.l.prev);e.l==h.Aa&&(h.Aa=e.l.next);e.l.prev=u;e.l.next=u;e.o.prev&&(e.o.prev.next=e.o.next);e.o.next&&(e.o.next.prev=e.o.prev);e.o==k.Aa&&(k.Aa=e.o.next);e.o.prev=u;e.o.next=u;--f.Ta;if(g==z)for(e=(h.lc<k.lc?h:k).bb;e;e=e.n)e.md(f.ta)}for(d=b.J;d;)f=
d,d=d.next,Xd(a.nb,f.W);for(b=b.bb;b;)d=b,b=b.n,65535!=d.I&&d.j.F.ta.yb(d.I)}a.Qc=u;a.nb.Ld=z}Be.prototype.Wb=function(a,c,b){var d=[],e=this.ta,f=[],g=[];xe(e,f,g,a);a=[0];var h=[0];e.Wb(a,h,f[0],g[0],e.za[0],2*e.qb,0);e.Wb(a,h,f[1],g[1],e.za[1],2*e.qb,1);for(g=f=0;g<e.ab&&f<b;++g,++f)d[g]=e.aa[e.kc[g]].N;e.ab=0;we(e);b=f;for(e=0;e<b;++e)c[e]=d[e];return b};var ee=1,de=1;var Fe=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;function Ge(a){return 1==a.length?"0"+a:a};function V(a,c){if(a instanceof V)this.ka=a.toArray();else{var b;if(b=ja(a))a:{for(var d=b=0;d<a.length;d++){if(!ja(a[d])||0<b&&a[d].length!=b){b=z;break a}for(var e=0;e<a[d].length;e++)if(!ka(a[d][e])){b=z;break a}0==b&&(b=a[d].length)}b=0!=b}b?this.ka=Bb(a):a instanceof cc?this.ka=He(a.height,a.width):ka(a)&&ka(c)&&0<a&&0<c?this.ka=He(a,c):n(Error("Invalid argument(s) for Matrix contructor"))}this.ba=new cc(this.ka[0].length,this.ka.length)}
function Ie(a,c,b){for(var d=0;d<a.ba.height;d++)for(var e=0;e<a.ba.width;e++)c.call(b,a.ka[d][e],d,e,a)}function Je(a,c){var b=new V(a.ba);Ie(a,function(d,e,f){b.ka[e][f]=c.call(r,d,e,f,a)});return b}function He(a,c){for(var b=[],d=0;d<a;d++){b[d]=[];for(var e=0;e<c;e++)b[d][e]=0}return b}A=V.prototype;A.add=function(a){dc(this.ba,a.ba)||n(Error("Matrix summation is only supported on arrays of equal size"));return Je(this,function(c,b,d){return c+a.ka[b][d]})};
A.multiply=function(a){if(a instanceof V)return this.ba.width!=a.ba.height&&n(Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns.")),Ke(this,a);if(ka(a))return Le(this,a);n(Error("A matrix can only be multiplied by a number or another matrix."))};A.uc=function(a){dc(this.ba,a.ba)||n(Error("Matrix subtraction is only supported on arrays of equal size."));return Je(this,function(c,b,d){return c-a.ka[b][d]})};A.toArray=ba("ka");
A.toString=function(){var a=0;Ie(this,function(b){b=String(b).length;b>a&&(a=b)});var c=[];xb(this.ka,function(b){c.push("[ ");xb(b,function(b){b=String(b);c.push(Array(a-b.length+1).join(" ")+b+" ")});c.push("]\n")});return c.join("")};function Me(a,c,b){return 0<=c&&c<a.ba.height&&0<=b&&b<a.ba.width}
function Ke(a,c){var b=new V(a.ba.height,c.ba.width);Ie(b,function(a,e,f){for(var g=a=0;g<this.ba.width;g++)a+=(!Me(this,e,g)?0:this.ka[e][g])*(!Me(c,g,f)?0:c.ka[g][f]);Me(b,e,f)||n(Error("Index out of bounds when setting matrix value, ("+e+","+f+") in size ("+b.ba.height+","+b.ba.width+")"));b.ka[e][f]=a},a);return b}function Le(a,c){return Je(a,function(a){return a*c})};function Ne(a,c,b,d){this.Yd=a;this.$d=c;this.Zd=b;this.ae=d};function Oe(a,c,b,d){this.top=a;this.right=c;this.bottom=b;this.left=d}A=Oe.prototype;A.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};A.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};A.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};
A.translate=function(a,c){a instanceof fc?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,ka(c)&&(this.top+=c,this.bottom+=c));return this};A.scale=function(a,c){var b=ka(c)?c:a;this.left*=a;this.right*=a;this.top*=b;this.bottom*=b;return this};function Pe(a,c){D("display")?Qe(a,c,"display"):Ka("display",ta(Qe,a))}function Qe(a,c,b){var d;a:if(d=Ea(b),a.style[d]===r&&(b=(bb?"Webkit":K?"Moz":F?"ms":ab?"O":u)+Ha(b),a.style[b]!==r)){d=b;break a}d&&(a.style[d]=c)};function Re(a){(C.requestAnimationFrame||C.webkitRequestAnimationFrame||C.mozRequestAnimationFrame||C.oRequestAnimationFrame||C.msRequestAnimationFrame||function(a){C.setTimeout(a,17)})(a)};function Se(a,c,b){this.Wf=a;this.ze=c.Xa();this.Tf=b.Xa();this.Ob=0}Se.prototype.step=function(){this.Ob++;return this.Ob};var Te;function Ue(){if(Te){for(var a=Te,c;c=a.firstChild;)a.removeChild(c);Pe(Te,"none")}}function Ve(a){Te&&(Pe(Te,"block"),a=ic("div",u,ya(a.Oe)),Te.appendChild(a))};function We(){this.Ac=this.td=0;this.Bb=[];this.Xb=0;this.pe=NaN};function Xe(a,c){O.call(this,"eightball.PocketDropEvent.TYPE",c);this.xd=a}E(Xe,O);function Ye(a,c,b){Q.call(this);this.ob=this.Kb=this.Za=u;this.ad=0;this.Jb=t;this.Eb=this.Ma=u;this.Rc=0;this.Sc=0.12;this.da=-1;this.qd=z;this.p={};this.Ce=new We;this.Uc=[];var d=this,e=Dc();this.sd=this.rd=z;this.pd=t;this.gc=new Image;this.gc.onload=function(){Ze(d)};this.gc.src=b.cue;this.Ae=new Image;this.Ae.src=b.ballvignette;this.Hd=new Image;this.Hd.src=b.ball_numbers;this.Qa=a;this.Sa=c;this.r=this.Qa.getContext("2d");this.T=this.Sa.getContext("2d");this.Qa.setAttribute("width",832);this.Qa.setAttribute("height",
424);this.Ra=new S(416,212);$e(this);this.r.translate(this.Ra.x,this.Ra.y);this.ic=z;$(this.Sa).mousedown(function(){d.Za&&d.p[0]&&(d.ic=t,d.Kb=d.Za,d.ob=new Ne(d.p[0].c.x,d.p[0].c.y,d.Kb.x,d.Kb.y),d.dispatchEvent(new O(af,d)))});$(this.Sa).mouseup(function(){d.ic=z;if(d.Jb&&0.01<d.ad){bf(d);if(d.ob&&d.p[0]){var a=new S(d.ob.Zd-d.ob.Yd,d.ob.ae-d.ob.$d);Uc(a);a.scale(800*d.ad+100);d.dispatchEvent(new Pc(Rc(a),"CUESTICK",-1,-1,d));d.sd=t;T(d.p[0].w,a);vd(d.p[0])}Ze(d);d.dispatchEvent(new O(cf,d))}});
$(this.Sa).mousemove(function(a){if(d.Jb){a=new R(a.pageX,a.pageY);var b=new R($(d.Qa).offset().left,$(d.Qa).offset().top);a=a.uc(b);d.Za=a.uc(d.Ra);if(d.ic){a=new Ne(d.Kb.x,d.Kb.y,d.Za.x,d.Za.y);var b=a.Zd-a.Yd,c=a.ae-a.$d,b=Math.min(Math.sqrt(b*b+c*c),175),c=df(d.ob);a=df(a);d.ad=0==b?0:b/175;Ue();e.info("Allowed Angle Range: "+Math.round(c-90)+" to "+Math.round(c+90));e.info("Strike Angle: "+Math.round(a));e.info("Strike Power: "+d.ad);Ze(d,d.Kb,b)}else Ze(d,d.Za,0)}});$(this.Sa).mouseleave(function(){d.Za=
u;d.ic=z});ef(this)}E(Ye,Q);Ye.prototype.sc=function(){ef(this)};Ye.prototype.pause=function(){this.fe=t};function ff(a){return La(a.p,function(a,b){return 0>=b})}function bf(a){var c=new Ec(50);P(c,Gc,function(){Pe(this.Sa,"none");c.Cb()},r,a);c.start();a.Jb=z}function gf(a){Pe(a.Sa,"block");a.Jb=t;hf(a);Ze(a,a.Za,0)}
function Ze(a,c,b){if(a.gc!=u&&a.gc.complete&&(a.T.setTransform(1,0,0,1,0,0),a.T.clearRect(0,0,a.Sa.width,a.Sa.height),a.Ma=u,a.Jb&&c&&a.p[0])){var d=jf(a,a.p[0].c.x,a.p[0].c.y),e=Math.round(d.x),d=Math.round(d.y),f=c.x-a.p[0].c.x,g=a.p[0].c.y-c.y,h=-1*Math.atan2(g,f)+Math.PI,g=Math.sqrt(Math.pow(Math.abs(a.p[0].c.x-c.x),2)+Math.pow(g,2))/5,f=f/g;c=(c.y-a.p[0].c.y)/g;a.T.lineWidth=2;a.T.fillStyle=a.ic?a.T.strokeStyle=kf:a.T.strokeStyle=lf;var k,l,m,q;if(a.Eb==u){var p=jf(a,0,0);a.Eb=new Oe(p.y-180,
p.x+380,p.y+180,p.x-380)}a.T.beginPath();for(p=4;p<g;p++){m=e+f*p;q=d+c*p;if(0==p%2){for(var s=1;15>s;s++)if(s in a.p&&(k=jf(a,a.p[s].c.x,a.p[s].c.y),k=Math.sqrt(Math.pow(k.x-m,2)+Math.pow(k.y-q,2)),24>=k)){l=t;break}if(!l&&(m<a.Eb.left||m>a.Eb.right||q<a.Eb.top||q>a.Eb.bottom))l=t;if(l)break;else a.T.moveTo(m,q)}else a.T.lineTo(m,q);a.T.stroke()}4<g&&(a.T.beginPath(),a.T.arc(m,q,4,0,2*Math.PI,z),a.T.fill());a.T.translate(e,d);a.T.rotate(h);a.T.drawImage(a.gc,7+b,-15)}}
function jf(a,c,b){a.Ma==u&&(a.Ma=new R($(a.Qa).offset().left,$(a.Qa).offset().top),a.Ma.x+=a.Qa.width/2,a.Ma.y+=a.Qa.height/2);return{x:a.Ma.x+c,y:a.Ma.y+b}}function df(a){a=-180*Math.atan2(a.ae-a.$d,a.Yd-a.Zd)/Math.PI;0>a&&(a=360- -1*a);return a}
function $e(a){var c=new gd;c.A.q(-1E3,-1E3);c.D.q(1E3,1E3);a.F=new Be(c,new S(0,0),t);var c=a.F,b=a.Ra,d=new ge;d.Pb=1;d.Db=1;var e,f;e=new ad;f=[[-b.x,-b.y+25],[-b.x+20,-b.y+45],[-b.x+20,b.y-45],[-b.x,b.y-25]];bd(e,f);he(d,e);e=new ad;f=(new V(f)).multiply(mf).toArray().reverse();bd(e,f);he(d,e);f=[[-b.x+23,-b.y],[-b.x+45,-b.y+20],[-23,-b.y+20],[-15,-b.y]].reverse();e=new ad;bd(e,f);he(d,e);e=new ad;f=(new V(f)).multiply(mf).toArray().reverse();bd(e,f);he(d,e);e=new ad;f=(new V(f)).multiply(nf).toArray();
bd(e,f);he(d,e);e=new ad;f=(new V(f)).multiply(mf).toArray().reverse();bd(e,f);he(d,e);d.N=[of];Ce(c,d);c=a.F;b=a.Ra;d=Array(6);e=[[b.x-21,b.y-21]];d[0]=pf(c,e[0][0],e[0][1]);e=(new V(e)).multiply(mf).toArray();d[1]=pf(c,e[0][0],e[0][1]);e=(new V(e)).multiply(nf).toArray();d[2]=pf(c,e[0][0],e[0][1]);e=(new V(e)).multiply(mf).toArray();d[3]=pf(c,e[0][0],e[0][1]);e[0][0]=0;e[0][1]=b.y-12;d[4]=pf(c,e[0][0],e[0][1]);e=(new V(e)).multiply(nf).toArray();d[5]=pf(c,e[0][0],e[0][1]);qf(a)}
function qf(a){a.rd=t;rf(a);hf(a);for(var c=1,b=0;5>b;b++)for(var d=b+1,e=198+14*b*Math.sqrt(3),f=14*-b,g=0;g<d;g++)a.p[c]=sf(a,c,e,f+28*g),c++}function hf(a){a.p[0]||(a.p[0]=sf(a,0,-198,0))}function rf(a){Ka(a.p,function(a){De(this.F,a)},a);Pa(a.p);yb(a.Uc);Ee(a.F)}function sf(a,c,b,d){var e=new pd;e.Ec=5;e.sb=14;e.Pb=0.95;e.Db=0.2;var f=new ge;he(f,e);f.position.q(b,d);f.ye=0.018;f.he=0.12;f.N=[tf,c,new S(14,14),new R(14,14)];return Ce(a.F,f)}
function uf(a){var c=a.p[a.da];Ka(a.p,function(a){a.w.add(new S(a.c.x-c.c.x,a.c.y-c.c.y));vd(a)},a);bf(a);vf(a,a.da)}function wf(a,c){ga(c)&&(a.pd=Boolean(c));return a.pd}function xf(a,c){if(ga(c)){var b;b=c?Qc().scale(100):new S;a.F.Md=b;Ka(a.p,function(a){vd(a)})}return 0==Rc(a.F.Md)}
Ye.prototype.uf=function(){this.ge=z;this.fe||ef(this);var a=this.Ce,c=ua();if(0<a.td){var b=c-a.td,b=b/1E3;100>a.Bb.length?a.Bb.push(b):(a.Ac=(a.Ac+1)%a.Bb.length,a.Xb-=a.Bb[a.Ac],a.Bb[a.Ac]=b);a.Xb+=b;a.pe=a.Bb.length/a.Xb}a.td=c;var a=this.F,c=1/30,d,e;a.$c.ib=c;a.$c.Dd=1;a.$c.Gf=0<c?1/c:0;a.He=0;Ee(a);for(var b=a.nb,f=b.F.J;f!=u;){var g=f,f=f.n;g.h&2&&Xd(b,g)}for(var h,b=a.nb.F.J;b!=u;b=b.n)if((b.t.j.h&ud)!=ud||(b.v.j.h&ud)!=ud)f=b.oa,b.Tb(),g=b.oa,0==f&&0<g?(f=b.t.j,g=b.v.j,h=b.l,d=b.o,h.W=b,
h.ea=g,h.prev=u,h.next=f.J,h.next!=u&&(h.next.prev=b.l),f.J=b.l,d.W=b,d.ea=f,d.prev=u,d.next=g.J,d.next!=u&&(d.next.prev=d),g.J=d):0<f&&0==g&&(f=b.t.j,g=b.v.j,h=b.l,d=b.o,h.prev&&(h.prev.next=h.next),h.next&&(h.next.prev=h.prev),h==f.J&&(f.J=h.next),h.prev=u,h.next=u,d.prev&&(d.prev.next=d.next),d.next&&(d.next.prev=d.prev),d==g.J&&(g.J=d.next),d.prev=u,d.next=u);b=new ce(a.ma,a.mb,a.Ta);for(d=a.Ya;d!=u;d=d.n)d.h&=-5;for(f=a.J;f!=u;f=f.n)f.h&=-2;for(f=a.Aa;f!=u;f=f.n)f.De=z;f=Array(a.ma);for(g=0;g<
a.ma;g++)f[g]=u;for(g=a.Ya;g!=u;g=g.n)if(!(g.h&(sd|4|ud|wd))){h=b;h.ma=0;h.mb=0;h=h.Ta=0;f[h++]=g;for(g.h|=4;0<h;)if(e=d=f[--h],b.Pa[b.ma++]=e,d.h&=~ud,!(d.h&sd)){for(var k=d.J;k!=u;k=k.next)k.W.h&1||(e=k.W,b.Jd[b.mb++]=e,k.W.h|=1,e=k.ea,e.h&4||(f[h++]=e,e.h|=4));for(d=d.Aa;d!=u;d=d.next)d.Jc.De!=t&&(e=d.Jc,b.jc[b.Ta++]=e,d.Jc.De=t,e=d.ea,e.h&4||(f[h++]=e,e.h|=4))}b.de(a.$c,a.Md);a.He=Math.max(a.He,fe);if(a.Lf){h=a;d=b;e=c;for(var k=0,l=r,m=Number.MAX_VALUE,q=ed*ed,k=0;k<d.ma;++k)l=d.Pa[k],0!=l.M&&
(0==(l.h&td)&&(m=l.Nb=0),0==(l.h&td)||l.O*l.O>q||0.09<Sc(l.w,l.w)?m=l.Nb=0:(l.Nb+=e,m=Math.min(m,l.Nb)));if(0.5<=m){for(k=0;k<d.ma;++k)l=d.Pa[k],l.h|=ud;d=t}else d=z;h.We=d}for(h=0;h<b.ma;++h)d=b.Pa[h],d.h&sd&&(d.h&=-5),(d.h&wd)==wd&&a.Fe&&1==a.Fe.ng(d)&&(De(a,d),b.Pa[h]=u)}a.xe=a.ta.Sb();if(this.p[this.da]||!this.F.We)this.r.clearRect(-this.Ra.x,-this.Ra.y,2*this.Ra.x,2*this.Ra.y),yf(this),zf(this,this.F.xe),Af(this)};function ef(a){a.fe=z;if(!a.ge){var c=sa(a.uf,a);a.ge=t;a.pd?Re(c):Hc(c)}}
function zf(a,c){var b=0,d=0,e=-1,f=-1,g=0;xb(c,function(c){var h=u,k=u;c.t.j.Da==Bf?(h=c.t.j,k=c.v.j):c.v.j.Da==Bf&&(h=c.v.j,k=c.t.j);if(h!=u){var p=k.Da[1],h=new Se(p,k.c,h.c);a.Uc.push(h);vf(a,p);a.dispatchEvent(new Xe(p,a))}p=[c.t.j.Da[0],c.v.j.Da[0]];vb.sort.call(p,Db);p[0]==tf&&(e=c.t.j.Da[1],p[1]==tf?(d++,f=c.v.j.Da[1],g+=Rc(c.t.j.w),g+=Rc(c.v.j.w)):p[1]==of&&(b++,g+=Rc(c.t.j.w),g+=Rc(c.v.j.w)))});var h=0<b||0<d?g/(2*(d+b)):0;if(0<d){var k="BALL";a.rd?(k="BREAK",a.rd=z):a.sd&&(k="CUEBALL",
a.sd=z);a.dispatchEvent(new Pc(h,k,e,f,a))}0<b&&a.dispatchEvent(new Pc(h,"WALL",e,f,a))}function vf(a,c){var b=a.p[c];md(b);b.c.q(5E3,5E3);delete a.p[c]}
function yf(a){for(xb(a.Uc,a.of,a);Ab(a.Uc,function(a){return 5<=a.Ob}););Cf(a);Ka(a.p,function(a){var b=a.bb,d=a.Da[1],e=this.da==d;this.r.fillStyle=e?this.qd?"rgba(237,218,193,0.5)":Df:Ef[d];this.r.beginPath();this.r.arc(b.c.x,b.c.y,b.e,0,2*Math.PI,z);this.r.fill();if(0<d){var f=new R(0,0),g=new R(0,0);this.r.save();this.r.beginPath();this.r.arc(b.c.x,b.c.y,b.e,0,2*Math.PI,t);this.r.clip();var h=a.Da[2];h.add(new S(0.03*a.w.x,0.03*a.w.y));var k=a.Da[3],l=b.e-h.x,m=b.e-h.y,q=Math.sqrt(Math.pow(l,
2)+Math.pow(m,2)),l=Math.atan2(m,l);q>3*b.e&&T(h,k);a=a.c.Xa();f.x=a.x+h.x-b.e;f.y=a.y+h.y-b.e;k.x=h.x+2.7*Math.sin(2.5*Math.PI-l)*b.e;k.y=h.y+2.7*Math.cos(2.5*Math.PI-l)*b.e;g.x=a.x+k.x-b.e;g.y=a.y+k.y-b.e;if(!e&&8<d){this.r.fillStyle=Ef[0];var m=new R(0,0),p=new R(0,0),s=new R(0,0),y=new R(0,0);m.x=h.x+Math.sin(-0.7*Math.PI-l)*b.e+a.x-b.e;m.y=h.y+Math.cos(-0.7*Math.PI-l)*b.e+a.y-b.e;p.x=h.x+2*Math.sin(-0.7*Math.PI-l)*b.e+a.x-b.e;p.y=h.y+2*Math.cos(-0.7*Math.PI-l)*b.e+a.y-b.e;s.x=k.x+2*Math.sin(0.7*
Math.PI-l)*b.e+a.x-b.e;s.y=k.y+2*Math.cos(0.7*Math.PI-l)*b.e+a.y-b.e;y.x=k.x+Math.sin(0.7*Math.PI-l)*b.e+a.x-b.e;y.y=k.y+Math.cos(0.7*Math.PI-l)*b.e+a.y-b.e;this.r.beginPath();this.r.moveTo(m.x,m.y);this.r.lineTo(p.x,p.y);this.r.lineTo(s.x,s.y);this.r.lineTo(y.x,y.y);m.x=h.x+Math.sin(-0.3*Math.PI-l)*b.e+a.x-b.e;m.y=h.y+Math.cos(-0.3*Math.PI-l)*b.e+a.y-b.e;p.x=h.x+2*Math.sin(-0.3*Math.PI-l)*b.e+a.x-b.e;p.y=h.y+2*Math.cos(-0.3*Math.PI-l)*b.e+a.y-b.e;s.x=k.x+2*Math.sin(0.3*Math.PI-l)*b.e+a.x-b.e;s.y=
k.y+2*Math.cos(0.3*Math.PI-l)*b.e+a.y-b.e;y.x=k.x+Math.sin(0.3*Math.PI-l)*b.e+a.x-b.e;y.y=k.y+Math.cos(0.3*Math.PI-l)*b.e+a.y-b.e;this.r.moveTo(m.x,m.y);this.r.lineTo(p.x,p.y);this.r.lineTo(s.x,s.y);this.r.lineTo(y.x,y.y);this.r.fill()}d*=9;e&&(d=0);this.r.drawImage(this.Hd,0,d,9,9,f.x-4,f.y-4,9,9);q>b.e&&this.r.drawImage(this.Hd,0,d,9,9,g.x-4,g.y-4,9,9);this.r.restore()}this.r.drawImage(this.Ae,b.c.x-b.e-2,b.c.y-b.e-2)},a)}
Ye.prototype.of=function(a){a.step();if(!(5<=a.Ob)){var c=a.Tf.Xa();c.uc(a.ze);c.scale(a.Ob/5);c.add(a.ze);var b,d=Ef[a.Wf],e;a:{var f=d.match(Fe);if(f&&(e=Number(f[1]),b=Number(f[2]),f=Number(f[3]),0<=e&&255>=e&&0<=b&&255>=b&&0<=f&&255>=f)){e=[e,b,f];break a}e=[]}e.length||n(Error(d+" is not a valid RGB color"));a=a.Ob/5;d=e;b=[0,0,0];e=Math.min(Math.max(a,0),1);b=[Math.round(e*b[0]+(1-e)*d[0]),Math.round(e*b[1]+(1-e)*d[1]),Math.round(e*b[2]+(1-e)*d[2])];d=this.r;f=b[0];e=b[1];b=b[2];f=Number(f);
e=Number(e);b=Number(b);(isNaN(f)||0>f||255<f||isNaN(e)||0>e||255<e||isNaN(b)||0>b||255<b)&&n(Error('"('+f+","+e+","+b+'") is not a valid RGB color'));f=Ge(f.toString(16));e=Ge(e.toString(16));b=Ge(b.toString(16));d.fillStyle="#"+f+e+b;this.r.beginPath();this.r.arc(c.x,c.y,14*(1-0.5*a),0,2*Math.PI,z);this.r.fill()}};
function Cf(a){var c=a.p[a.da];if(c){c=c.bb;a.Rc+=a.Sc;var b=a.r.createRadialGradient(c.c.x,c.c.y,0,c.c.x,c.c.y,32);b.addColorStop(0.2,"rgba(255,234,136,"+Math.abs(Math.sin(a.Rc))+")");b.addColorStop(0.8,"rgba(255,234,136,0.0)");a.r.fillStyle=b;a.r.beginPath();a.r.arc(c.c.x,c.c.y,32,0,2*Math.PI,z);a.r.fill()}}function Ff(a,c){a.qd=z;a.da=c;a.Rc=0;a.Sc=0.12}
function Af(a){var c=0,b=0,d=Ma(a.p);Ka(a.p,function(a){var d=Rc(a.w);0==d?(b++,c++):10>d?(xf(this)||T(a.w,new S),b++,c++):20>d&&c++},a);if(!a.Jb&&(b==d||c==d&&a.p[0]&&0==Rc(a.p[0].w)))a.dispatchEvent(new O(Gf,a)),gf(a)}function pf(a,c,b){var d=new pd;d.sb=7;var e=new ge;he(e,d);e.position.q(c,b);e.N=[Bf];return Ce(a,e)}
var of="table",Bf="pocket",tf="ball",Gf="cueStopped",af="CUESTICK_HIT_START",cf="CUESTICK_HIT_STOP",lf="rgb(232,208,176)",Df="rgb(40,37,29)",kf="rgb(178,55,17)",Ef={1:"rgb(250,164,25)",9:"rgb(250,164,25)",2:"rgb(35,45,101)",10:"rgb(35,45,101)",3:"rgb(192,66,57)",11:"rgb(192,66,57)",4:"rgb(80,46,67)",12:"rgb(80,46,67)",5:"rgb(236,89,37)",13:"rgb(236,89,37)",6:"rgb(48,65,37)",14:"rgb(48,65,37)",7:"rgb(117,36,32)",15:"rgb(117,36,32)",8:"rgb(34,34,34)",0:lf},mf=new V([[-1,0],[0,1]]),nf=new V([[-1,0],
[0,-1]]);function Hf(a){var c;c="_gaq"in C?C._gaq:u;if(!c){var b=c=[];"_gaq"in C&&n(Error('The object already contains the key "_gaq"'));C._gaq=b}c.push(a)}function If(a){var c=document.createElement("script");c.type="text/javascript";c.async=t;c.src=a;a=document.getElementsByTagName("head");1!=a.length&&n(Error("Couldn't find a single head tag."));a=a[0];var b=a.getElementsByTagName("script");0==b.length?a.appendChild(c):(a=b[0],a.parentNode&&a.parentNode.insertBefore(c,a))};function Jf(a){Q.call(this);this.cb=u;this.da=-1;this.sa=a;this.Be=z;P(a,"eightball.PocketDropEvent.TYPE",this.sf,r,this);P(a,"BALL",this.ud,r,this);P(a,"CUEBALL",this.ud,r,this);P(a,"BREAK",this.ud,r,this);this.reset()}E(Jf,Q);A=Jf.prototype;
A.reset=function(){this.cb&&(this.cb.Cb(),this.ha=120);this.Yb=32;this.da=this.Be?1:Math.floor(15*Math.random())+1;this.Ab=this.Bc=z;xf(this.sa,z);qf(this.sa);this.sa.sc();Ff(this.sa,-1);this.ha=120;X(this,Kf);this.tb=0;X(this,Lf);X(this,Mf);this.La=Nf;X(this,Of)};A.start=function(){this.cb&&(this.cb.Cb(),this.ha=120,X(this,Kf));this.cb=new Ec(1E3);this.cb.start();P(this.cb,Gc,this.vf,r,this);this.La=Pf;X(this,Qf)};A.pause=function(){this.La==Pf&&(this.sa.pause(),this.La=Rf,X(this,Sf))};
A.sc=function(){this.La==Rf&&(this.sa.sc(),this.La=Pf,X(this,Tf))};function Uf(a){return!a.Bc&&a.da in a.sa.p?(a.Bc=t,a.Ab=t,Ff(a.sa,a.da),X(a,Vf),t):z}function Wf(a){return a.Ab?(a.Ab=z,a.da=-1,a.ha+=30,Ff(a.sa,-1),X(a,Xf),t):z}function Yf(){var a=Lc.get("h","0");return parseInt(a,10)}A.vf=function(){this.La==Pf&&(this.ha--,this.Ab&&(this.Yb--,X(this,Zf),0>=this.Yb&&(this.ha-=30,10>this.ha&&(this.ha=10),X(this,$f),this.Ab=z)),0>=this.ha&&(this.ha=0,ag(this)),X(this,Kf))};
function ag(a){a.cb.stop();a.sa.pause();a.La=bg;X(a,cg)}function X(a,c){a.dispatchEvent(new O(c,a));0<=wb(dg,c)&&Hf(["_trackEvent","game",c,r,r])}A.sf=function(a){0!=a.xd&&(Dc().info("Pocket drop: "+a.xd),this.tb+=100,X(this,Lf),this.tb>Yf()&&(Mc("h",this.tb),X(this,Mf)));this.Bc&&a.xd==this.da&&Wf(this);ff(this.sa)&&ag(this)};A.ud=function(a){!this.Bc&&(0==a.ie&&a.je==this.da||0==a.je&&a.ie==this.da)&&Uf(this)};
var Nf="ready",Pf="started",Rf="paused",bg="ended",Of="ready",Qf="start",Sf="pause",Tf="resume",cg="end",Kf="tick",Lf="score",Mf="highscore",Vf="bombactivated",Zf="bombtick",Xf="bombdeactivated",$f="bombexploded",dg=[Qf,Sf,Tf,cg,Vf,Xf,$f,{rg:Of,wg:Qf,og:Sf,sg:Tf,ig:cg,xg:Kf,ug:Lf,jg:Mf,cg:Vf,fg:Zf,dg:Xf,eg:$f}];var eg={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:"semicolon",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",
93:"context",96:"num-0",97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",186:"semicolon",187:"equals",189:"dash",188:",",190:".",191:"/",192:"~",219:"open-square-bracket",220:"\\",221:"close-square-bracket",222:"single-quote",224:"win"};function fg(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function gg(a){Q.call(this);this.tc={};this.Oa={ub:[],time:0};this.Ff=Sa(hg);this.ag=Sa(ig);this.zf=t;this.xf=this.Af=z;this.Uf=t;this.Na=a;P(this.Na,"keydown",this.Gc,z,this);Xa&&(K&&L("1.8"))&&P(this.Na,"keyup",this.re,z,this);eb&&!K&&(P(this.Na,"keypress",this.se,z,this),P(this.Na,"keyup",this.te,z,this))}var jg;E(gg,Q);
var hg=[27,112,113,114,115,116,117,118,119,120,121,122,123,19],ig="color date datetime datetime-local email month number password search tel text time url week".split(" "),kg={nf:"shortcut",mf:"shortcut_"};A=gg.prototype;
A.Zf=function(a,c){var b=lg,d=this.tc,e=arguments;if(D(e[1])){for(var e=e[1],e=e.replace(/[ +]*\+[ +]*/g,"+").replace(/[ ]+/g," ").toLowerCase(),e=e.split(" "),f=[],g,h=0;g=e[h];h++){var k=g.split("+"),l;g=0;for(var m,q=0;m=k[q];q++){switch(m){case "shift":g|=1;continue;case "ctrl":g|=2;continue;case "alt":g|=4;continue;case "meta":g|=8;continue}l=m;if(!jg){k={};m=r;for(m in eg)k[eg[m]]=m;jg=k}l=jg[l];break}f.push({keyCode:l,Ne:g})}e=f}else{f=e;h=1;ia(e[1])&&(f=e[1],h=0);for(e=[];h<f.length;h+=2)e.push({keyCode:f[h],
Ne:f[h+1]})}b(d,e,a)};A.qa=function(){gg.vb.qa.call(this);this.tc={};Qb(this.Na,"keydown",this.Gc,z,this);Xa&&(K&&L("1.8"))&&Qb(this.Na,"keyup",this.re,z,this);eb&&!K&&(Qb(this.Na,"keypress",this.se,z,this),Qb(this.Na,"keyup",this.te,z,this));this.Na=u};A.re=function(a){if(224==a.keyCode)this.Me=t,Hc(function(){this.Me=z},400,this);else{var c=a.metaKey||this.Me;if((67==a.keyCode||88==a.keyCode||86==a.keyCode)&&c)a.metaKey=c,this.Gc(a)}};
function mg(a){return eb&&!K&&a.ctrlKey&&a.altKey&&!a.shiftKey}A.se=function(a){32<a.keyCode&&mg(a)&&(this.we=t)};A.te=function(a){!this.we&&mg(a)&&this.Gc(a)};function lg(a,c,b){var d=c.shift(),d=d.keyCode&255|d.Ne<<8,e=a[d];e&&(b&&(0==c.length||D(e)))&&n(Error("Keyboard shortcut conflicts with existing shortcut"));c.length?(e||(e=a[d]={}),lg(e,c,b)):a[d]=b}function ng(a,c,b,d){b=b||0;return(d=(d||a.tc)[c[b]])&&!D(d)&&1<c.length-b?ng(a,c,b+1,d):d}
A.Gc=function(a){var c;c=a.keyCode;if(16==c||17==c||18==c)c=z;else{var b=a.target,d="TEXTAREA"==b.tagName||"INPUT"==b.tagName||"BUTTON"==b.tagName||"SELECT"==b.tagName,e=!d&&(b.isContentEditable||b.ownerDocument&&"on"==b.ownerDocument.designMode);c=!d&&!e||this.Ff[c]||this.xf?t:e?z:this.Uf&&(a.altKey||a.ctrlKey||a.metaKey)?t:"INPUT"==b.tagName&&this.ag[b.type]?13==c:"INPUT"==b.tagName||"BUTTON"==b.tagName?32!=c:z}if(c)if("keydown"==a.type&&mg(a))this.we=z;else{c=(K?fg(a.keyCode):a.keyCode)&255|((a.shiftKey?
1:0)|(a.ctrlKey?2:0)|(a.altKey?4:0)|(a.metaKey?8:0))<<8;var f,g,b=ua();this.Oa.ub.length&&1500>=b-this.Oa.time?f=ng(this,this.Oa.ub):this.Oa.ub.length=0;f=f?f[c]:this.tc[c];f||(f=this.tc[c],this.Oa.ub=[]);f&&D(f)?g=f:f?(this.Oa.ub.push(c),this.Oa.time=b,K&&a.preventDefault()):this.Oa.ub.length=0;g&&(this.zf&&a.preventDefault(),this.Af&&a.stopPropagation(),f=a.target,c=this.dispatchEvent(new og(kg.nf,g,f)),(c&=this.dispatchEvent(new og(kg.mf+g,g,f)))||a.preventDefault(),this.Oa.ub.length=0)}};
function og(a,c,b){O.call(this,a,b);this.identifier=c}E(og,O);function pg(a){Q.call(this);this.Je=new gg(document);this.Yc=[];this.Mg=!a;P(this.Je,"shortcut",sa(this.qf,this))}E(pg,Q);pg.prototype.add=function(a,c,b){this.Je.Zf(this.Yc.length.toString(),a);this.Yc.push({keybinding:a,description:c,action:b})};pg.prototype.qf=function(a){var c=this.Yc[new Number(a.identifier)],b=c.action.call();a.stopPropagation();this.dispatchEvent(new qg(c.keybinding,b||c.description))};function qg(a,c){O.call(this,"KeyBindingEvent");this.If=a;this.description=c}E(qg,O);function rg(a,c,b){this.Gd=[];this.Sf=b;this.Tc=0;for(var d=document.getElementsByClassName("audio_"+a),e=0;e<d.length;e++)this.Gd.push(d[e]);for(d=d.length;d<b;d++)this.Gd.push(sg(a,c))}rg.prototype.play=function(){this.Tc++;this.Tc%=this.Sf;var a=this.Gd[this.Tc];bb&&(xb(a.getElementsByTagName("source"),function(a){a.src=a.src}),a.load());a.play();return a};
function sg(a,c){var b=document.getElementById("_audios");if(b===r||b==u)b=document.createElement("div"),b.id="_audios",b.style.display="none",document.body.appendChild(b);var d=document.createElement("audio");d.className="audio_"+a;b.appendChild(d);for(var e in c)b=document.createElement("source"),b.src=c[e][0],b.type=c[e][1],d.appendChild(b);return d};function tg(a,c){Q.call(this);this.pa=u;this.Ge=a;this.Rf=c;Lc.get("m",r)==r&&ug(this)}E(tg,Q);function ug(a){vg(a);a.pa=sg(a.Ge,a.Rf);a.pa.setAttribute("loop","loop");a.pa.load();a.pa.play();Mc("m",r);a.dispatchEvent(new O("eightball.Music.STATE_CHANGE_EVENT_TYPE"))}function wg(a){vg(a);Mc("m","0");a.dispatchEvent(new O("eightball.Music.STATE_CHANGE_EVENT_TYPE"))}
function vg(a){a.pa&&(a.pa.pause(),a.pa.parentNode.removeChild(a.pa),a.pa=u);xb(document.getElementsByClassName("audio_"+a.Ge),function(a){a.parentNode.removeChild(a)})};var xg={bf:".",ef:",",jf:"%",ee:"0",lf:"+",gf:"-",df:"E",kf:"\u2030",ff:"\u221e",hf:"NaN",hg:"#,##0.###",tg:"#E0",pg:"#,##0%",gg:"\u00a4#,##0.00;(\u00a4#,##0.00)",cf:"USD"},Y=xg,Y=xg;var yg={AED:[2,"dh","\u062f.\u0625.","DH"],AUD:[2,"$","AU$"],BDT:[2,"\u09f3","Tk"],BRL:[2,"R$","R$"],CAD:[2,"$","C$"],CHF:[2,"CHF","CHF"],CLP:[0,"$","CL$"],CNY:[2,"\u00a5","RMB\u00a5"],COP:[0,"$","COL$"],CRC:[0,"\u20a1","CR\u20a1"],CZK:[2,"K\u010d","K\u010d"],DKK:[18,"kr","kr"],DOP:[2,"$","RD$"],EGP:[2,"\u00a3","LE"],EUR:[18,"\u20ac","\u20ac"],GBP:[2,"\u00a3","GB\u00a3"],HKD:[2,"$","HK$"],ILS:[2,"\u20aa","IL\u20aa"],INR:[2,"\u20b9","Rs"],ISK:[0,"kr","kr"],JMD:[2,"$","JA$"],JPY:[0,"\u00a5","JP\u00a5"],
KRW:[0,"\u20a9","KR\u20a9"],LKR:[2,"Rs","SLRs"],MNT:[0,"\u20ae","MN\u20ae"],MXN:[2,"$","Mex$"],MYR:[2,"RM","RM"],NOK:[18,"kr","NOkr"],PAB:[2,"B/.","B/."],PEN:[2,"S/.","S/."],PHP:[2,"\u20b1","Php"],PKR:[0,"Rs","PKRs."],RUB:[42,"\u0440\u0443\u0431.","\u0440\u0443\u0431."],SAR:[2,"Rial","Rial"],SEK:[2,"kr","kr"],SGD:[2,"$","S$"],THB:[2,"\u0e3f","THB"],TRY:[2,"TL","YTL"],TWD:[2,"NT$","NT$"],USD:[2,"$","US$"],UYU:[2,"$","UY$"],VND:[0,"\u20ab","VN\u20ab"],YER:[0,"Rial","Rial"],ZAR:[2,"R","ZAR"]};var zg={af:{1E3:{other:"0K"},1E4:{other:"00K"},1E5:{other:"000K"},1E6:{other:"0M"},1E7:{other:"00M"},1E8:{other:"000M"},1E9:{other:"0B"},1E10:{other:"00B"},1E11:{other:"000B"},1E12:{other:"0T"},1E13:{other:"00T"},1E14:{other:"000T"}},$e:{1E3:{other:"0 thousand"},1E4:{other:"00 thousand"},1E5:{other:"000 thousand"},1E6:{other:"0 million"},1E7:{other:"00 million"},1E8:{other:"000 million"},1E9:{other:"0 billion"},1E10:{other:"00 billion"},1E11:{other:"000 billion"},1E12:{other:"0 trillion"},1E13:{other:"00 trillion"},
1E14:{other:"000 trillion"}}},Ag=zg,Ag=zg;function Bg(){this.Ic=Y.cf;this.Cf=Cg;this.bd=40;this.Ea=1;this.Ve=0;this.oc=3;this.cd=this.pc=0;this.Ze=z;this.Wd=this.Vd="";this.dd="-";this.ed="";this.qc=1;this.Cd=3;this.jd=this.me=z;this.ke=Dg;this.Og="#,###.##".replace(/ /g,"\u00a0");var a=[0];this.Vd=Eg(this,a);for(var c=a[0],b=-1,d=0,e=0,f=0,g=-1,h=t;8>a[0]&&h;a[0]++)switch("#,###.##".charAt(a[0])){case "#":0<e?f++:d++;0<=g&&0>b&&g++;break;case "0":0<f&&n(Error('Unexpected "0" in pattern "#,###.##"'));e++;0<=g&&0>b&&g++;break;case ",":g=0;
break;case ".":0<=b&&n(Error('Multiple decimal separators in pattern "#,###.##"'));b=d+e+f;break;case "E":this.jd&&n(Error('Multiple exponential symbols in pattern "#,###.##"'));this.jd=t;this.cd=0;8>a[0]+1&&"+"=="#,###.##".charAt(a[0]+1)&&(a[0]++,this.Ze=t);for(;8>a[0]+1&&"0"=="#,###.##".charAt(a[0]+1);)a[0]++,this.cd++;(1>d+e||1>this.cd)&&n(Error('Malformed exponential pattern "#,###.##"'));h=z;break;default:a[0]--,h=z}0==e&&(0<d&&0<=b)&&(e=b,0==e&&e++,f=d-e,d=e-1,e=1);(0>b&&0<f||0<=b&&(b<d||b>
d+e)||0==g)&&n(Error('Malformed pattern "#,###.##"'));f=d+e+f;this.oc=0<=b?f-b:0;0<=b&&(this.pc=d+e-b,0>this.pc&&(this.pc=0));this.Ea=(0<=b?b:f)-d;this.jd&&(this.bd=d+this.Ea,0==this.oc&&0==this.Ea&&(this.Ea=1));this.Cd=Math.max(0,g);this.me=0==b||b==f;c=a[0]-c;this.Wd=Eg(this,a);8>a[0]&&"#,###.##".charAt(a[0])==Fg?(a[0]++,this.dd=Eg(this,a),a[0]+=c,this.ed=Eg(this,a)):(this.dd=this.Vd+this.dd,this.ed+=this.Wd)}var Cg=0,Dg=0;
function Gg(a,c){var b=Math.pow(10,a.oc),d=0>=a.Ve?Math.round(c*b):Math.floor(Hg(c*b,a.Ve,a.oc)),e;isFinite(d)?(e=Math.floor(d/b),b=Math.floor(d-e*b)):(e=c,b=0);return{ue:e,Df:b}}
function Ig(a,c,b,d){var e=Gg(a,c);c=Math.pow(10,a.oc);for(var f=e.ue,g=e.Df,h=0<a.pc||0<g,k="",e=f;1E20<e;)k="0"+k,e=Math.round(e/10);var k=e+k,l=Y.bf,m=Y.ef,e=Y.ee.charCodeAt(0),q=k.length;if(0<f||0<b){for(f=q;f<b;f++)d.push(String.fromCharCode(e));for(f=0;f<q;f++)d.push(String.fromCharCode(e+1*k.charAt(f))),1<q-f&&(0<a.Cd&&1==(q-f)%a.Cd)&&d.push(m)}else h||d.push(String.fromCharCode(e));(a.me||h)&&d.push(l);b=""+(g+c);for(c=b.length;"0"==b.charAt(c-1)&&c>a.pc+1;)c--;for(f=1;f<c;f++)d.push(String.fromCharCode(e+
1*b.charAt(f)))}function Jg(a,c,b){b.push(Y.df);0>c?(c=-c,b.push(Y.gf)):a.Ze&&b.push(Y.lf);c=""+c;for(var d=Y.ee,e=c.length;e<a.cd;e++)b.push(d);b.push(c)}var Fg=";";
function Eg(a,c){for(var b="",d=z;8>c[0];c[0]++){var e="#,###.##".charAt(c[0]);if("'"==e)8>c[0]+1&&"'"=="#,###.##".charAt(c[0]+1)?(c[0]++,b+="'"):d=!d;else if(d)b+=e;else switch(e){case "#":case "0":case ",":case ".":case Fg:return b;case "\u00a4":if(8>c[0]+1&&"\u00a4"=="#,###.##".charAt(c[0]+1))c[0]++,b+=a.Ic;else switch(a.Cf){case Cg:b+=yg[a.Ic][1];break;case 2:var e=a.Ic,f=yg[e],b=b+(e==f[1]?e:e+" "+f[1]);break;case 1:b+=yg[a.Ic][2]}break;case "%":1!=a.qc&&n(Error("Too many percent/permill"));
a.qc=100;b+=Y.jf;break;case "\u2030":1!=a.qc&&n(Error("Too many percent/permill"));a.qc=1E3;b+=Y.kf;break;default:b+=e}}return b}var Kg={prefix:"",Xe:"",Ad:0};function Lg(a,c){var b=1==a.ke?Ag.af:Ag.$e;if(3>c)return Kg;c=Math.min(14,c);b=b[Math.pow(10,c)];if(b==u)return Kg;b=b.other;if(b==u)return Kg;b=/([^0]*)(0+)(.*)/.exec(b);return b==u?Kg:{prefix:b[1],Xe:b[3],Ad:c-(b[2].length-1)}}function Mg(a){for(var c=0;1<=(a/=10);)c++;return c}
function Hg(a,c,b){if(0==a)return a;c=c-Mg(a)-1;if(c<-b)return b=Math.pow(10,b),Math.round(a/b)*b;b=Math.pow(10,c);return Math.round(a*b)/b};function Ng(a,c){var b=Array.prototype.slice.call(arguments),d=b.shift();"undefined"==typeof d&&n(Error("[goog.string.format] Template required"));return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,c,d,h,k,l,m,q){if("%"==l)return"%";var p=b.shift();"undefined"==typeof p&&n(Error("[goog.string.format] Not enough arguments"));arguments[0]=p;return Og[l].apply(u,arguments)})}
var Og={s:function(a,c,b){return isNaN(b)||""==b||a.length>=b?a:a=-1<c.indexOf("-",0)?a+Array(b-a.length+1).join(" "):Array(b-a.length+1).join(" ")+a},f:function(a,c,b,d,e){d=a.toString();isNaN(e)||""==e||(d=a.toFixed(e));var f;f=0>a?"-":0<=c.indexOf("+")?"+":0<=c.indexOf(" ")?" ":"";0<=a&&(d=f+d);if(isNaN(b)||d.length>=b)return d;d=isNaN(e)?Math.abs(a).toString():Math.abs(a).toFixed(e);a=b-d.length-f.length;return d=0<=c.indexOf("-",0)?f+d+Array(a+1).join(" "):f+Array(a+1).join(0<=c.indexOf("0",
0)?"0":" ")+d},d:function(a,c,b,d,e,f,g,h){return Og.f(parseInt(a,10),c,b,d,0,f,g,h)}};Og.i=Og.d;Og.u=Og.d;function Pg(a){Q.call(this);this.Rd={};this.Nf=a}E(Pg,Q);Pg.prototype.add=function(a,c){this.Rd[a]=new rg(a,this.Nf[a],c)};Pg.prototype.play=function(a){if(Qg())return this.Rd[a].play()};function Qg(){return Lc.get("s",r)==r}function Rg(a){var c=Qg()?"0":r;Mc("s",c);a.dispatchEvent(new O("eightball.SoundEffectManager.STATE_CHANGE_EVENT_TYPE"))};function Sg(){function a(){v.pause();g.fadeIn(400);l.fadeIn(400);(p=Boolean(e.pa))&&wg(e)}function c(){var a=$(window).width(),b=$(window).height();x.T.canvas.width=a;x.T.canvas.height=b;Ze(x)}function b(){Qg()?$("#soundsbutton .on").fadeIn(200):$("#soundsbutton .on").fadeOut(200)}function d(){Boolean(e.pa)?$("#musicbutton .on").fadeIn(200):$("#musicbutton .on").fadeOut(200)}window.doStats&&(If("http://www.google-analytics.com/ga.js"),Hf(["_setAccount","UA-18513960-1"]),Hf(["_trackPageview"]),C.sc_project=
6221324,C.sc_security="0296de03",C.sc_invisible=1,If("http://www.statcounter.com/counter/counter_xhtml.js"));this.Nd=0;this.Ee=29;Xa&&$("#timers .digit").css("line-height","62px");$("#vignette").delay(500).fadeIn(1E3);$("#game").delay(500).fadeIn(1E3);$("#gamecontrolsdisplay").delay(500).fadeIn(1E3,function(){d();b()});$("#gamecontrolsclick").show();$("#cue_canvas").show();var e=new tg("theme",preloadAssets.audios.theme);P(e,"eightball.Music.STATE_CHANGE_EVENT_TYPE",d);var f=new Pg(preloadAssets.audios);
P(f,"eightball.SoundEffectManager.STATE_CHANGE_EVENT_TYPE",b);f.add("activate",1);f.add("ball",5);f.add("bombtick",1);f.add("bombtickfast",1);f.add("bombtickslow",1);f.add("break",1);f.add("cuehit",1);f.add("cuestick",1);f.add("deactivate",1);f.add("explode",1);f.add("pocket",2);f.add("quietball",2);f.add("quietwall",2);f.add("typing",1);f.add("wall",3);var g=$("#overlay"),h=$("#start"),k=$("#startmessage"),l=$("#resume"),m=$("#gameover"),q=z,p=z,s=z,y=u,x=new Ye($("canvas#demo_canvas")[0],$("canvas#cue_canvas")[0],
preloadAssets.images);this.sa=x;var v=new Jf(x);this.Pf=v;P(v,Kf,function(){q||Tg(this,v.ha);Ue();if(this.Pf.La==Pf){var a;a=new Bg;var b=this.sa.Ce.pe;if(isNaN(b))a=Y.hf;else{var c=[],d;var e=b;a.ke==Dg?d=Kg:(e=Math.abs(e),d=Lg(a,1>=e?0:Mg(e)).Ad,e=Gg(a,e/Math.pow(10,d)),d=Lg(a,d+Mg(e.ue)));b/=Math.pow(10,d.Ad);c.push(d.prefix);e=0>b||0==b&&0>1/b;c.push(e?a.dd:a.Vd);if(isFinite(b))if(b=b*(e?-1:1)*a.qc,a.jd)if(0==b)Ig(a,b,a.Ea,c),Jg(a,0,c);else{var f=Math.floor(Math.log(b)/Math.log(10)),b=b/Math.pow(10,
f),g=a.Ea;if(1<a.bd&&a.bd>a.Ea){for(;0!=f%a.bd;)b*=10,f--;g=1}else 1>a.Ea?(f++,b/=10):(f-=a.Ea-1,b*=Math.pow(10,a.Ea-1));Ig(a,b,g,c);Jg(a,f,c)}else Ig(a,b,a.Ea,c);else c.push(Y.ff);c.push(e?a.ed:a.Wd);c.push(d.Xe);a=c.join("")}Dc().info("FPS: "+a)}},z,this);P(v,Lf,function(){var a=v.tb;0==a&&(a="00");$("#score").html(a);$("#gameoverscore").html(a)});P(v,Mf,function(){$("#bestscore").html(Yf().toString())});P(v,Of,function(){g.fadeIn(1E3);$("#bombicon").hide();$("#bombsecondstens").hide();$("#bombsecondsones").hide();
$("#boom").hide();var a=0;h.delay(800).fadeIn(400,function(){if(!s){y=f.play("typing");var b=setInterval(function(){k.html("Mission #1146<br/>To: Agent 008<br/>From: Cue<br/><br/><br/>The International Billiards Tournament is being infil- trated by the terrorist organization CHALK.<br/><br/>Do not let them win! Sink as  many balls as possible before the timer runs out.".substr(0,a));a++;247<a&&(clearInterval(b),y&&y.pause())},10)}})});P(v,cg,function(){g.fadeIn(500);m.fadeIn(400)});P(v,Vf,function(){$("#bombicon").fadeIn(200);
$("#bombsecondstens").fadeIn(200);$("#bombsecondsones").fadeIn(200);f.play("activate")});P(v,Zf,function(){var a=v.Yb%60;30<a&&(a=30);var b=Math.floor(a/10),c=a%10;$("#bombsecondstens").html(String(b));$("#bombsecondsones").html(String(c));19<a?f.play("bombtickslow"):10>=a?f.play("bombtickfast"):1<=a&&f.play("bombtick");if(19==a||10==a)x.Sc+=0.12});P(v,Xf,function(){f.play("deactivate");$("#bombicon").fadeOut(1200);$("#bombsecondstens").fadeOut(1200);$("#bombsecondsones").fadeOut(1200);var a=this.Nd,
b=setInterval(sa(function(){a>=v.ha?(clearInterval(b),q=z):(a++,Tg(this,a))},this),50)},z,this);P(v,$f,function(){f.play("explode");x.qd=t;$("#bombicon").fadeOut(1200);$("#bombsecondstens").fadeOut(1200);$("#bombsecondsones").fadeOut(1200);setTimeout(function(){var a;if(a=x.p[x.da]){var b=new fc(396,192);a=a.c.Xa().add(b)}else a=u;a&&(uf(x),$("#boom").css("left",a.x).css("top",a.y).show())},1500);q=t;var a=this.Nd,b=setInterval(function(){a<v.ha?(clearInterval(b),q=z):a--},50)},z,this);P(x,af,function(){$("#gamecontrolsclick").hide()});
P(x,cf,function(){$("#gamecontrolsclick").show()});P(x,"CUESTICK",function(){f.play("cuestick")});P(x,"BREAK",function(){f.play("break")});P(x,"CUEBALL",function(){f.play("cuehit")});P(x,"BALL",function(a){Dc().info("velocity: "+a.wc);80<a.wc?f.play("ball"):20<a.wc&&f.play("quietball")});P(x,"WALL",function(a){120<a.wc?f.play("wall"):40<a.wc&&f.play("quietwall")});P(x,"eightball.PocketDropEvent.TYPE",function(){f.play("pocket")});v.reset();$(window).resize(c);c();var w=new pg;P(w,"KeyBindingEvent",
function(a){$("#alert-div-holder").stop(t,t).show();if("h"==a.If){a=w.Yc;var b=$("<table>");xb(a,function(a){var c=$("<tr>");c.append($("<td>"+a.keybinding+"</td>"));c.append($("<td>"+a.description+"</td>"));b.append(c)});$("#alert-div").html("").append(b);$("#alert-div-holder").delay(4E3).fadeOut(500)}else $("#alert-div").text(a.description),$("#alert-div-holder").delay(2E3).fadeOut(500)});w.add("a","Activate bomb",function(){return Uf(v)?"Bomb activated":"No-op"});w.add("b","Bomb demo mode",function(){v.Be=
t;v.reset()});w.add("d","Deactivate bomb",function(){return Wf(v)?"Bomb deactivated":"No-op"});w.add("e","End game early",function(){v.La==Pf&&(v.ha=2)});w.add("f","No Gravity",function(){xf(x,z)});w.add("g","Gravity",function(){xf(x,t)});w.add("h","Help",ea);w.add("i","Toggle framerate throttling",function(){if(wf(x))return wf(x,z),"Framerate: floating";wf(x,t);return"Framerate: fixed"});w.add("l","Toggle debug log",function(){var a;Te?(Te&&((a=Te)&&a.parentNode&&a.parentNode.removeChild(a),Te=u,
(a=Dc().Gb)&&zb(a,Ve)),a=z):(Te||(a=Te=ic("div",{id:"_debugLogDiv",style:"display:block; position:absolute; top:7px; right:7px; padding:10px; width:300px; background: rgba(0,0,0,.4); color:yellowgreen; text-align:left; font-family:monospace; border:solid 1px black; z-index:9999;"}),document.body.appendChild(a),a=Dc(),a.Gb||(a.Gb=[]),a.Gb.push(Ve)),a=t);return a?"Logger on":"Logger off"});w.add("m","Toggle music",function(){Boolean(e.pa)?wg(e):ug(e);return"Game music is now "+(Boolean(e.pa)?"on":"off")});
w.add("o","Play random sound effect",function(){var a=Na(f.Rd),b=Math.floor(Math.random()*a.length);f.play(a[b]);return"Playing "+a[b]});w.add("p","Pause game",a);w.add("r","Restart game",function(){v.reset()});w.add("s","Toggle sound",function(){Rg(f);return"Game sounds are now "+(Qg()?"on":"off")});w.add("x","Detonate bomb",function(){var a;v.Ab?(v.Yb=Math.min(2,v.Yb),a=t):a=z;return a?"Bomb detonated":"No-op"});m.click(function(){m.fadeOut(400);v.reset()});$("#startoverclick").click(function(){v.reset()});
h.click(function(){h.fadeOut(100);g.fadeOut(400);v.start();s=t;y&&y.pause();k.html("Mission #1146<br/>To: Agent 008<br/>From: Cue<br/><br/><br/>The International Billiards Tournament is being infil- trated by the terrorist organization CHALK.<br/><br/>Do not let them win! Sink as  many balls as possible before the timer runs out.")});$("#pauseclick").click(a);l.click(function(){g.fadeOut(400);l.fadeOut(400,function(){v.sc()});p&&ug(e)});$("#gameoverfacebook").click(function(a){a.stopPropagation();
window.open(Ug(v.tb))});$("#gameovertwitter").click(function(a){a.stopPropagation();window.open(Vg(v.tb))});$("#instructionsclick").click(function(){v.pause();g.fadeIn(500);$("#howtoplay").fadeIn(200);$("#cue_canvas").hide()});$("#howtoplay").click(function(){v.sc();g.fadeOut(200);$("#howtoplay").fadeOut(200);$("#cue_canvas").show()});$("#musicbuttonclick").click(function(){Boolean(e.pa)?wg(e):ug(e)});$("#soundsbuttonclick").click(function(){Rg(f)});Wg()}
function Tg(a,c){a.Nd=c;var b=Math.floor(c/60),d=c%60,e=Math.floor(d/10),d=d%10;$("#minutesremaining").html(b.toString());$("#secondsremainingtens").html(e.toString());$("#secondsremainingones").html(d.toString());b=1+Math.floor((c-1)/4);b!=a.Ee&&(a.Ee=b,$("#progress").width(Math.min(7*b,210)))}function Ug(a){a=Ng("I just scored %d points on Agent 008 Ball!",a);return Ng("http://www.facebook.com/sharer.php?u=%s&t=%s",escape("http://agent8ball.com"),escape(a))}
function Vg(a){a=Ng("Hey @agent8ball! I just scored %d points on %s. Beat that!",a,"http://agent8ball.com");return Ng("http://twitter.com/home?status=%s",escape(a))}
function Wg(){if(eb){var a="Hey there! ",c=z,b=-1!=navigator.userAgent.indexOf("Windows NT 6"),d=z,e=z,f=z,g=z,h=z,k=z,l=0,m;if(m=/MSIE (\d+\.\d+)/.exec(navigator.userAgent))e=t,l=parseFloat(m[1]);else if(m=/Firefox\/(\d+\.\d+)/.exec(navigator.userAgent))k=t,l=parseFloat(m[1]);else if(m=/Chrome\/(\d+\.\d+)/.exec(navigator.userAgent))f=t,l=parseFloat(m[1]);else if(m=/Opera.*Version\/(\d+\.\d+)/.exec(navigator.userAgent))g=t,l=parseFloat(m[1]);else if(m=/Version\/(\d+\.\d+).*Safari/.exec(navigator.userAgent))h=
t,l=parseFloat(m[1]);e&&9<=l&&(c=d=t);f&&7<=l&&(c=t);g&&10<=l&&(c=t);h&&5<=l&&(c=t);k&&4<=l&&(c=t);if(b)if(e&&!d)a+='You\'re using an older version of Internet Explorer. You should upgrade to <a target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a> so you can start playing the game!';else{if(d)return;!e&&!c?a+='Looks like you\'re using an older browser. You should upgrade to <a target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a> to get the best experience playing the game!':
!e&&c&&(a+='If you like Agent 008 Ball now, you\'ll love it with the blazing fast graphics in <a target="_blank" target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a>. You should <a target="_blank" href="http://beautyoftheweb.com">check it out</a>!')}else e&&!d?a+='You\'re using an older version of Internet Explorer. You should upgrade to <a target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a> so you can start playing the game!':!e&&!c?a+='Looks like you\'re using an older browser. You should check out <a target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a> for Windows Vista and Windows 7.':
!e&&c&&(a+='Agent 008 Ball works best with <a target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a> for Windows Vista and Windows 7. You should <a target="_blank" href="http://beautyoftheweb.com">check it out</a>!');$("body #browsermessage").html(a);$("#bottombar").delay(1E3).fadeIn(500);$("#bottombar-close").click(function(){$("#bottombar").fadeOut(500)})}};$(document).ready(function(){$("body").each(function(){this.onselectstart=ca(z);this.unselectable="on"});var a=new qc(preloadAssets.images);$("#loadingbg").delay(500).fadeIn(700);Ka(preloadAssets.audios,function(a,b){sg(b,a)});a.load(function(a){$("#loadingpg").width(237*a)},function(){$("#loadingbg").delay(500).fadeOut(700,function(){new Sg})})});
